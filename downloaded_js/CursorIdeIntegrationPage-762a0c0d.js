import{_ as C,f as D,x,X as B,A as P,aJ as E,aK as R,r as o,m,k as l,p as d,o as e,n as p,w as t,F as h,q as n,s,t as S}from"./index-13ff96f4.js";import{D as O,a as M}from"./DataTable-e31a825a.js";import{P as H}from"./PageHeader-46c38a32.js";import{I as L}from"./IdeTokenRow-7fefc747.js";import{a as N}from"./DataTableCell-51c0104f.js";import{O as G}from"./OverviewEmptyState-c8440b9c.js";import{G as U}from"./GenericIllustration-4aca88e5.js";import{A as V}from"./ActionMenu-3e4470bf.js";const X={components:{PageHeader:H,DataTable:O,BaseButton:D,BaseIcon:x,DataTableHeader:M,XPreloader:B,IdeTokenRow:L,DataTableRow:N,OverviewEmptyState:G,GenericIllustration:U,ActionMenu:V},data(){return{tokens:[],isLoading:!0}},async mounted(){this.hasAccessToIdeIntegration||(Toast.error({title:this.$t("ERROR"),description:"This page is not available for your account"}),go("/settings/integrations")),await this.loadIdeTokens(),this.isLoading=!1},computed:{breadcrumbs(){return[{label:"Settings",href:"/settings"},{label:"Integrations",href:"/settings/integrations"},{label:"IDE"},{label:"Cursor"}]},showEmptyState(){return!this.isLoading&&this.tokens.length===0},actions(){return[{title:"Duration",items:[{label:"Indefinite",onClick:()=>this.createAccessToken("indefinite")},{label:"One week",onClick:()=>this.createAccessToken("one_week")}]}]},hasAccessToIdeIntegration(){return!!(this.$featureflags.enable_vs_code_ide_plugin||P.isPayingProAndNotTrial())}},methods:{async loadIdeTokens(){this.tokens=await E("cursor")},async createAccessToken(i){const _=await R(i,"cursor");this.loadIdeTokens(),await this.$modal.show("CopyTokenModal",{token:_})},openAdoptionStatsModal(){this.$modal.show("IdeAdoptionModal",{ide:"cursor"})}}},z={key:1,class:"page-content"},F={class:"flex align-center mb-24px gap-12px"},K=p("i",{class:"icon icon-information"},null,-1),q={colspan:"5"};function J(i,_,j,Q,k,a){const f=o("XPreloader"),g=o("PageHeader"),u=o("BaseButton"),I=o("BaseIcon"),T=o("ActionMenu"),r=o("DataTableHeader"),b=o("IdeTokenRow"),w=o("GenericIllustration"),y=o("OverviewEmptyState"),A=o("DataTableRow"),v=o("DataTable");return n(),m(h,null,[k.isLoading?(n(),l(f,{key:0,theme:"light",class:"supercenter"})):d("",!0),e(g,{title:"Cursor IDE Plugin",breadcrumbs:a.breadcrumbs},null,8,["breadcrumbs"]),a.hasAccessToIdeIntegration?(n(),m("div",z,[p("div",F,[e(u,{as:"outside-link",size:"small",variation:"tertiary",class:"ml-auto",target:"_blank",href:"https://help.aikido.dev/doc/cursor-ide-setup/doc9maUK22nm"},{default:t(()=>[K,s(" Setup Instructions ")]),_:1}),i.$groupUser.admin?(n(),l(u,{key:0,size:"small",variation:"tertiary",onClick:a.openAdoptionStatsModal},{default:t(()=>[s(" Adoption Stats ")]),_:1},8,["onClick"])):d("",!0),e(T,{sections:a.actions,placement:"bottom-end"},{trigger:t(c=>[e(u,{class:"ml-auto",size:"small",ref:"trigger",onClick:c.toggle},{default:t(()=>[s(" Generate Personal Access Token "),e(I,{icon:"icon-caret_down",class:"flex"})]),_:2},1032,["onClick"])]),_:1},8,["sections"])]),e(v,null,{header:t(()=>[e(r,{width:"auto"},{default:t(()=>[s("User")]),_:1}),e(r,{width:"200px"},{default:t(()=>[s("Created at")]),_:1}),e(r,{width:"200px"},{default:t(()=>[s("Expires at")]),_:1}),e(r,{width:"200px"},{default:t(()=>[s("Last Used at")]),_:1}),e(r,{width:"48px",alignment:"center"})]),body:t(()=>[(n(!0),m(h,null,S(k.tokens,c=>(n(),l(b,{token:c,key:c.id,onRevoked:a.loadIdeTokens},null,8,["token","onRevoked"]))),128)),a.showEmptyState?(n(),l(A,{key:0},{default:t(()=>[p("td",q,[e(y,{title:"No Cursor IDE tokens registered",description:"Create your PAT for Cursor IDE here.",variation:"empty",onOnAction:a.createAccessToken},{default:t(()=>[e(w)]),_:1},8,["onOnAction"])])]),_:1})):d("",!0)]),_:1})])):d("",!0)],64)}const ne=C(X,[["render",J]]);export{ne as default};
