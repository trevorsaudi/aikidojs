import{_ as B,M as x,B as C,f as z,H as b,bk as A,d as y,g as D,Z as w,aE as I,ak as P,r as s,q as M,k as S,w as a,o as e,n as i,s as t,a as k}from"./index-13ff96f4.js";import{B as L}from"./BaseLabel-a1c0ca00.js";import{B as R}from"./BaseRadioInput-a7ac3557.js";const E={emits:["close"],props:{show:Boolean,handleAzureChecksOptionImmediately:{type:Boolean,default:!1}},data(){return{kind:"azure_devops_checks",isSaving:!1}},created(){this.handleAzureChecksOptionImmediately&&(this.handleInstallAzureDevopsChecks(),this.handleClose())},components:{BaseModal:x,BaseParagraph:C,BaseButton:z,BaseHeading:b,BaseLabel:L,BaseBody:A,BaseRadioInput:R,BasePill:y,BaseLink:D},methods:{handleClose(){this.$emit("close")},handleSelectOption(n){this.kind=n},handleConfirm(){this.isSaving=!0,this.kind==="azure_devops_checks"?this.handleInstallAzureDevopsChecks():this.handleInstallAzureDevopsPipelines(),this.handleClose()},handleInstallAzureDevopsPipelines(){this.$router.push("/settings/integrations/continuous-integration")},handleInstallAzureDevopsChecks(){if(w.data.azureDevopsChecks)return this.$router.push("/settings/integrations/azure-devops/checks");let n="C160D751-F423-48CC-ADAE-C09DBC773761",o="https://c38a08c7a075.ngrok.app/settings/integrations/azure-devops/checks/callback";k()==="staging"?(n="DE342270-B63B-4A93-B014-0A49D68E7109",o="https://app.test.aikido.dev/settings/integrations/azure-devops/checks/callback"):k()==="production"&&(n="5DA63191-F694-4C14-A30F-6EA71B9F4AA8",o="https://app.aikido.dev/settings/integrations/azure-devops/checks/callback");const c={state:I("azure-devops-pr-checks"),client_id:n,redirect_uri:o,response_type:"Assertion",scope:"vso.build vso.code_status vso.code_write vso.work_write"};window.location=`https://app.vssps.visualstudio.com/oauth2/authorize?${P(c)}`}}},O={class:"relative flex flex-column gap-12px"},V={for:"azure_devops_checks",class:"flex justify-between align-center py-16px px-8px gap-8px border-bottom-1 border-carbon-20 cursor-pointer"},F={class:"flex flex-column max-w-full gap-4px"},H={class:"flex gap-8px align-center"},j={for:"azure_pipelines",class:"flex justify-between align-center py-16px px-8px gap-8px cursor-pointer"},N={class:"flex flex-column max-w-full gap-4px"};function T(n,o,c,q,r,l){const g=s("BaseParagraph"),f=s("BaseHeading"),d=s("BaseBody"),v=s("BasePill"),p=s("BaseLink"),u=s("BaseLabel"),h=s("BaseRadioInput"),_=s("BaseButton"),m=s("BaseModal");return M(),S(m,{width:600,onClose:l.handleClose},{header:a(()=>[e(g)]),content:a(()=>[i("div",O,[e(f,{as:"h3"},{default:a(()=>[t("Choose PR Gating Method for Azure Devops")]),_:1}),i("label",V,[i("div",F,[i("div",H,[e(d,{loose:!0,bold:"",class:"flex align-center gap-8px"},{default:a(()=>[t("Manage PR gating configuration via Aikido dashboard")]),_:1}),e(v,{title:"Recommended",variation:"purple"})]),e(u,{color:"gray",class:"text-break-all"},{default:a(()=>[t(" Configure all checks in bulk without any code. Does not consume CI minutes. "),e(p,{class:"block text--normal text-inherit",target:"_blank",href:"https://help.aikido.dev/doc/azure-pipelines-ci-pr-gating-via-aikido-dashboard/docVU0nLa09W"},{default:a(()=>[t("More info")]),_:1})]),_:1})]),e(h,{name:"kind",id:"azure_devops_checks",value:"azure_devops_checks",checked:r.kind==="azure_devops_checks",onSelect:o[0]||(o[0]=()=>l.handleSelectOption("azure_devops_checks"))},null,8,["checked"])]),i("label",j,[i("div",N,[e(d,{loose:!0,bold:"",class:"flex align-center gap-8px"},{default:a(()=>[t("Manage PR gating via Azure Pipelines in code")]),_:1}),e(u,{color:"gray",class:"text-break-all"},{default:a(()=>[t(" Set up each repository individually via code. Consumes CI minutes in Azure Pipelines. "),e(p,{class:"block text--normal text-inherit",target:"_blank",href:"https://help.aikido.dev/doc/azure-pipelines-setting-up-gating-for-pull-requests/docLu6ljW4MG"},{default:a(()=>[t("More info")]),_:1})]),_:1})]),e(h,{name:"kind",id:"azure_pipelines",value:"azure_pipelines",checked:r.kind==="azure_pipelines",onSelect:o[1]||(o[1]=()=>l.handleSelectOption("azure_pipelines"))},null,8,["checked"])])])]),footer:a(()=>[e(_,{onClicked:l.handleClose,variation:"tertiary",class:"ml-auto"},{default:a(()=>[t(" Cancel ")]),_:1},8,["onClicked"]),e(_,{onClicked:l.handleConfirm,"is-loading":r.isSaving},{default:a(()=>[t(" Continue ")]),_:1},8,["onClicked","is-loading"])]),_:1},8,["onClose"])}const Z=B(E,[["render",T]]);export{Z as default};
