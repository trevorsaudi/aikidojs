import{B as y}from"./BaseStatusLabel-0ccd2806.js";import{_ as C,B as N,d as v,a2 as D,r as o,q as i,k as c,w as n,m as h,ai as s,n as d,o as r,s as l,u as m,p as k}from"./index-13ff96f4.js";import{D as w}from"./DataTableCell-51c0104f.js";function B(a){return new URL(a).host}const b={props:{repository:{type:Object,default:null},image:{type:Object,default:null}},emits:["repositoryUpdated"],components:{BaseParagraph:N,BasePill:v,DataTableCell:w,XTooltip:D,BaseStatusLabel:y},computed:{internetExposure(){return this.image?this.image.internet_exposed:this.repository.internet_exposed},isExposedToInternet(){return this.internetExposure!=="connected"?!1:!!this.domainName},domainNames(){return this.image?this.image.domain_name:this.repository.domain_name},domainName(){return this.domainNames?B(this.domainNames.split(",")[0]):null},otherDomainNames(){if(!this.domainNames)return!1;let a=this.domainNames.split(",").map(e=>e.trim());return a.length===1?!1:a.slice(1)}},methods:{async handleOpenDomainConfigurationModal(){let a={repository:this.repository};this.image&&(a={image:this.image});const e=await this.$modal.show("RepositoryArchitectureConfigurationModal",a);e.type=="saved"&&this.$emit("repositoryUpdated",e.value)}}},T={class:"overflow-hidden hover-trigger flex flex-1 align-center gap-8px"},O=d("i",{class:"icon icon-settings show-on-hover icon-12px text-primary-aik-140 ml-4px"},null,-1),M={class:"ws-pre"},E=d("i",{class:"icon icon-settings show-on-hover icon-12px text-primary-aik-140 ml-4px"},null,-1);function P(a,e,U,j,R,t){const u=o("XTooltip"),f=o("BaseParagraph"),g=o("BaseStatusLabel"),_=o("BasePill"),x=o("DataTableCell");return i(),c(x,{onClick:e[2]||(e[2]=s(()=>{},["stop"])),class:"wide-tablet_hidden"},{default:n(()=>[t.isExposedToInternet?(i(),h("div",{key:0,class:"flex flex-1 align-center gap-4px justify-between overflow-hidden",onClick:e[0]||(e[0]=s((...p)=>t.handleOpenDomainConfigurationModal&&t.handleOpenDomainConfigurationModal(...p),["prevent"]))},[d("div",T,[r(f,{truncate:""},{default:n(()=>[l(m(t.domainName)+" ",1),r(u,null,{default:n(()=>[l(m(t.domainName),1)]),_:1})]),_:1}),O]),t.otherDomainNames?(i(),c(g,{key:0,class:"direction-ltr",size:"compact"},{default:n(()=>[l(m(a.$t("X_OTHERS",t.otherDomainNames.length))+" ",1),r(u,null,{default:n(()=>[d("span",M,m(t.otherDomainNames.join(`
`)),1)]),_:1})]),_:1})):k("",!0)])):t.internetExposure=="not_connected"?(i(),h("div",{key:1,class:"flex flex-1 align-center gap-4px justify-between overflow-hidden",onClick:e[1]||(e[1]=s((...p)=>t.handleOpenDomainConfigurationModal&&t.handleOpenDomainConfigurationModal(...p),["prevent"]))},[r(f,null,{default:n(()=>[l(" Not public "),E]),_:1})])):(i(),c(_,{key:2,class:"cursor-pointer",icon:"icon-settings",title:"Configure",variation:"gray-fill",onClick:s(t.handleOpenDomainConfigurationModal,["prevent"])},null,8,["onClick"]))]),_:1})}const X=C(b,[["render",P]]);export{X as R,B as s};
