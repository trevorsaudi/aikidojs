import{_ as h,f as _,H as g,M as C,B,cF as x,an as k,r as s,q as R,k as y,w as e,o as a,n as d,s as n,u as v}from"./index-13ff96f4.js";import{s as V}from"./reports-ed4978a9.js";const M={props:{resource:Object},emits:["close","save"],components:{BaseButton:_,BaseHeading:g,BaseModal:C,BaseParagraph:B,InputTextArea:x},data(){return{isSaving:!1,reason:void 0}},computed:{hasValidReason(){return!this.reason||this.reason==""||typeof this.reason!="string"?!1:this.reason.length>0}},methods:{handleClose(){this.$emit("close")},async handleConfirm(){if(this.hasValidReason)try{this.isSaving=!0,await V({resourceId:this.resource.id,reason:this.reason}),Toast.success({title:"Resource Marked Compliant",description:"This cloud resource has been successfully marked as compliant."}),this.handleClose(),k.emit("gdprReportCloudResourceIgnored")}finally{this.isSaving=!1}}}},I={class:"flex flex-column gap-16px"},S={class:"flex flex-column gap-16px"};function T(w,t,c,P,r,o){const l=s("BaseParagraph"),u=s("BaseHeading"),m=s("InputTextArea"),i=s("BaseButton"),p=s("BaseModal");return R(),y(p,{onClose:o.handleClose,allowBackgroundClose:!1},{header:e(()=>[a(l,{color:"gray"})]),content:e(()=>[d("div",I,[a(u,{as:"h3"},{default:e(()=>[n("Mark resource GDPR Compliant")]),_:1}),a(l,{size:"medium"},{default:e(()=>[n('If the resource "'+v(c.resource.name)+'" does not process any personal data from EU citizens, you can mark this resource GDPR compliant.',1)]),_:1}),d("div",S,[a(m,{modelValue:r.reason,"onUpdate:modelValue":t[0]||(t[0]=f=>r.reason=f),modelModifiers:{trim:!0},title:"Reason",placeholder:"Summary...",rows:"5",name:"markSafeReason"},null,8,["modelValue"])])])]),footer:e(()=>[a(i,{onClicked:o.handleClose,variation:"plain",class:"ml-auto"},{default:e(()=>[n("Cancel")]),_:1},8,["onClicked"]),a(i,{onClicked:o.handleConfirm,disabled:!o.hasValidReason,"is-loading":r.isSaving},{default:e(()=>[n("Confirm")]),_:1},8,["onClicked","disabled","is-loading"])]),_:1},8,["onClose"])}const H=h(M,[["render",T]]);export{H as default};
