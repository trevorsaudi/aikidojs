import{_ as h,eB as T,eA as N,V as b,f as O,eY as f,Y as S,O as A,eX as I,b_ as E,b$ as P,r as a,k as U,w as s,q as B,o as t,n,u as r,s as u}from"./index-13ff96f4.js";import{O as x}from"./OnboardingProgressIndicator-8fa4a42d.js";const G={components:{OnboardingPage:T,OnboardingSection:N,OnboardingProgressIndicator:x,InputText:b,BaseButton:O},data(){return{group_name:void 0,isCreatingGroup:!1}},computed:{inputIsValid(){return!!this.group_name&&this.group_name.trim()!==""}},methods:{async handleContinue(){this.isCreatingGroup=!0;try{const{sys_group_id:e,status:o}=await f({group_name:this.group_name});if(await S.setGroupContext(e),A("selfscan_new_account"),!await I()){this.$toast.error("This organization is already connected to Aikido. You need an invite to join."),go("/onboarding/self-managed/select-onboarding-type");return}E(),P(),this.$router.push("/onboarding/selfscan/finish"),this.isCreatingGroup=!1}catch(e){throw this.isCreatingGroup=!1,e}}}},k=n("img",{class:"",src:"https://cdn.aikido.dev/assets/logo-white.svg?v=2",width:"180"},null,-1),v={class:"onboarding__title mb-36px mt-64px text-white"},V={class:"onboarding__paragraph onboarding__paragraph--size-large text-carbon-20"},w={class:"onboarding__title text-primary-aik-140 mb-8px"},D={class:"onboarding__paragraph onboarding__paragraph--size-medium text-carbon-60"},L={class:"mb-16px mt-32px gap-32px flex flex-column"},$={class:"flex mt-auto gap-16px justify-end"};function y(e,o,g,R,i,d){const _=a("OnboardingProgressIndicator"),l=a("OnboardingSection"),m=a("InputText"),c=a("BaseButton"),C=a("OnboardingPage");return B(),U(C,null,{default:s(()=>[t(l,{"align-content":"bottom",theme:"dark",class:"onboarding__section__content"},{default:s(()=>[k,n("h1",v,r(e.$t("ONBOARDING.SELFSCAN.SETUP_ACCOUNT.TITLE")),1),n("p",V,r(e.$t("ONBOARDING.SELFSCAN.SETUP_ACCOUNT.DESCRIPTION")),1),t(_,{"number-of-completed-steps":2,"number-of-steps":3})]),_:1}),t(l,{"align-content":"top",theme:"light",class:"onboarding__section__content"},{default:s(()=>[n("h4",w,r(e.$t("ONBOARDING.SELFSCAN.SETUP_ACCOUNT.SETUP.TITLE")),1),n("p",D,r(e.$t("ONBOARDING.SELFSCAN.SETUP_ACCOUNT.SETUP.DESCRIPTION")),1),n("div",L,[t(m,{modelValue:i.group_name,"onUpdate:modelValue":o[0]||(o[0]=p=>i.group_name=p),name:"group_name",class:"onboarding__input",placeholder:"ACME Dev Team",title:e.$t("ONBOARDING.SELFSCAN.SETUP_ACCOUNT.SETUP.ACCOUNT_NAME.LABEL")},null,8,["modelValue","title"])]),n("div",$,[t(c,{onClicked:o[1]||(o[1]=p=>e.$router.go(-1)),variation:"plain",size:"large"},{default:s(()=>[u(" Back ")]),_:1}),t(c,{onClicked:d.handleContinue,size:"large",disabled:!d.inputIsValid,"is-loading":i.isCreatingGroup},{default:s(()=>[u(r(e.$t("ONBOARDING.SELFSCAN.SETUP_ACCOUNT.SETUP.CTA.CONTINUE")),1)]),_:1},8,["onClicked","disabled","is-loading"])])]),_:1})]),_:1})}const Y=h(G,[["render",y]]);export{Y as default};
