import{_ as k,d as q,r as a,q as s,m as d,F as y,t as x,n as e,k as B,V as N,f as V,eA as C,X as E,B as P,fg as A,fs as T,o as n,w as u,s as o,u as f,p as L}from"./index-13ff96f4.js";import{i as v}from"./email-46ee8eaa.js";import{i as g}from"./general-a1161a2a.js";const z={components:{BasePill:q},computed:{sections(){return[{title:"Scan history & frequency",icon:"icon-starter",variation:"neon-green"},{title:"Security check compliance",icon:"icon-pro",variation:"purple"},{title:"SLA compliance",icon:"icon-starter",variation:"green"},{title:"Monitored assets",icon:"icon-shield_check",variation:"orange"},{title:"Cloud compliance",icon:"icon-cloud",variation:"blue"}]}}},D={class:"request-audit-report__sections__banner"};function F(r,i,S,w,t,p){const _=a("BasePill");return s(),d("div",D,[(s(),d(y,null,x(3,h=>e("div",{key:h,class:"request-audit-report__sections__banner-container"},[(s(!0),d(y,null,x(p.sections,(l,c)=>(s(),B(_,{key:c,title:l.title,icon:l.icon,variation:l.variation},null,8,["title","icon","variation"]))),128))])),64))])}const X=k(z,[["render",F]]),I={components:{InputText:N,BaseButton:V,OnboardingSection:C,XPreloader:E,BaseParagraph:P,AuditReportSectionsBanner:X},watch:{email(r){this.emailError&&v(r)&&(this.emailError=void 0)}},data(){return{name:void 0,email:void 0,companyName:void 0,groupReference:this.$route.params.groupReference,isSubmitting:!1,showConfirmation:!1,isLoading:!0,accountName:void 0,emailError:void 0}},async mounted(){try{const r=await A(this.groupReference);this.accountName=r.account_name}catch{this.$router.replace({name:"notFound"})}finally{this.isLoading=!1}},computed:{isSubmitButtonDisabled(){return!g(this.email)||!g(this.name)||!g(this.companyName)}},methods:{async handleSubmitRequest(){if(v(this.email)===!1){this.emailError="This email address is invalid";return}else this.emailError=void 0;this.isSubmitting=!0;try{await T({email:this.email,name:this.name,companyName:this.companyName,groupReference:this.groupReference}),this.showConfirmation=!0}finally{this.isSubmitting=!1}}}},O={key:1,class:"onboarding-page"},U=e("img",{class:"",src:"https://cdn.aikido.dev/assets/logo-white.svg?v=2",width:"180"},null,-1),Y=e("h1",{class:"onboarding__title mb-36px mt-64px text-white"},"Trust starts with transparency",-1),j={class:"onboarding__paragraph onboarding__paragraph--size-large text-carbon-20"},M={class:"text-secondary-dev-100 text--semi-bold"},W={class:"onboarding__title text-primary-aik-140 mb-8px"},G=e("p",{class:"onboarding__paragraph onboarding__paragraph--size-medium text-carbon-60"}," To initiate your request, simply fill in the form below and, once approved, you will receive the report in your inbox. ",-1),H={class:"mb-16px mt-32px gap-16px flex flex-column"},J={class:"flex mt-auto gap-16px align-center justify-between gap-8px tablet_flex-column"},K=e("a",{href:"https://www.aikido.dev",target:"_blank",class:"link"},"click here",-1),Q={key:0,class:"request-audit-report__form__confirmation visible animate-fade-in"},Z={class:"request-audit-report__form__confirmation-content"},$=e("i",{class:"icon icon-tick-circle text-surface-green-100 icon-40px"},null,-1),ee=e("br",null,null,-1),te={class:"text--semi-bold"};function ne(r,i,S,w,t,p){const _=a("XPreloader"),h=a("AuditReportSectionsBanner"),l=a("OnboardingSection"),c=a("InputText"),b=a("BaseParagraph"),R=a("BaseButton");return t.isLoading?(s(),B(_,{key:0,class:"supercenter",theme:"dark"})):(s(),d("div",O,[n(l,{"align-content":"bottom",theme:"dark",class:"onboarding__section__content"},{default:u(()=>[U,Y,e("p",j,[o(" Request a comprehensive security report from "),e("span",M,f(t.accountName),1),o(" to help you understand the depth of the security measures they have in place. ")]),n(h)]),_:1}),n(l,{"align-content":"top",theme:"light",class:"onboarding__section__content"},{default:u(()=>[e("h4",W,[o("Request security report from "),e("strong",null,f(t.accountName),1)]),G,e("div",H,[n(c,{modelValue:t.name,"onUpdate:modelValue":i[0]||(i[0]=m=>t.name=m),name:"name",title:"Full name",placeholder:"Your name"},null,8,["modelValue"]),n(c,{modelValue:t.companyName,"onUpdate:modelValue":i[1]||(i[1]=m=>t.companyName=m),name:"companyName",title:"Company name",placeholder:"Company name"},null,8,["modelValue"]),n(c,{modelValue:t.email,"onUpdate:modelValue":i[2]||(i[2]=m=>t.email=m),name:"email",title:"Email address",placeholder:"your-email@email.com",error:t.emailError},null,8,["modelValue","error"])]),e("div",J,[n(b,{color:"gray"},{default:u(()=>[o(" This report is generated by Aikido Security, "),K,o(" to learn more. ")]),_:1}),n(R,{onClick:p.handleSubmitRequest,"is-loading":t.isSubmitting,variation:"primary",size:"large",disabled:p.isSubmitButtonDisabled},{default:u(()=>[o(" Request report ")]),_:1},8,["onClick","is-loading","disabled"])]),t.showConfirmation?(s(),d("div",Q,[e("div",Z,[$,n(b,{size:"medium"},{default:u(()=>[o("Your request was submitted successfully."),ee,o("We'll email you the report once "),e("span",te,f(t.accountName),1),o(" has approved this request.")]),_:1})])])):L("",!0)]),_:1})]))}const se=k(I,[["render",ne]]);export{se as default};
