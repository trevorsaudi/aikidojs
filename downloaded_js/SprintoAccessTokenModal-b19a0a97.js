import{_,M as f,B,f as h,V as y,H as k,N as S,g as v,r as s,q as V,k as x,w as e,o as t,s as a,n as K}from"./index-13ff96f4.js";import{a as C}from"./sprinto-1778523f.js";const b={emits:["close","saved"],components:{BaseModal:f,BaseParagraph:B,BaseButton:h,InputText:y,BaseHeading:k,BaseSelect:S,BaseLink:v},props:{id:Number,username:String,registry_name:String},data(){return{apiKey:"",isSaving:!1,step:"token",selectedRegion:"us",regionOptions:[{title:"United States - app.sprinto.com",id:"us"},{title:"Europe - eu.sprinto.com",id:"eu"},{title:"India - in.sprinto.com",id:"in"}]}},computed:{isValid(){return this.apiKey.trim()!==""}},methods:{close(){this.$emit("close")},async save(){if(this.isValid){this.isSaving=!0;try{await C({token:this.apiKey,region:this.selectedRegion}),this.$toast.success("Successfully updated your Sprinto credentials"),this.$emit("saved")}finally{this.isSaving=!1}}}}},M={class:"flex flex-column gap-12px"};function P(I,i,L,R,o,n){const r=s("BaseParagraph"),c=s("BaseHeading"),p=s("BaseLink"),u=s("InputText"),m=s("BaseSelect"),d=s("BaseButton"),g=s("BaseModal");return V(),x(g,{width:600,onClose:n.close},{header:e(()=>[t(r,{color:"gray"},{default:e(()=>[a("Sprinto integration")]),_:1})]),content:e(()=>[K("div",M,[t(c,{as:"h3"},{default:e(()=>[a("Add your Sprinto API Key")]),_:1}),t(r,{size:"medium",loose:""},{default:e(()=>[a(" Read our documentation on "),t(p,{href:"https://help.aikido.dev/doc/sprinto-compliance-integration/docqFjM7XLho",target:"_blank"},{default:e(()=>[a("How to connect Sprinto")]),_:1}),a(". ")]),_:1})]),t(u,{disabled:o.step!=="token",title:"API Key",placeholder:"12345678-90a1-23b4-567c-de89fg012345",modelValue:o.apiKey,"onUpdate:modelValue":i[0]||(i[0]=l=>o.apiKey=l),modelModifiers:{trim:!0},name:"apiKey",onEnterKeyPress:n.save},null,8,["disabled","modelValue","onEnterKeyPress"]),t(m,{label:"Region",modelValue:o.selectedRegion,"onUpdate:modelValue":i[1]||(i[1]=l=>o.selectedRegion=l),options:o.regionOptions},null,8,["modelValue","options"])]),footer:e(()=>[t(d,{onClicked:n.close,variation:"tertiary",class:"ml-auto"},{default:e(()=>[a("Cancel")]),_:1},8,["onClicked"]),t(d,{onClicked:n.save,isLoading:o.isSaving,disabled:!n.isValid},{default:e(()=>[a("Save")]),_:1},8,["onClicked","isLoading","disabled"])]),_:1},8,["onClose"])}const H=_(b,[["render",P]]);export{H as default};
