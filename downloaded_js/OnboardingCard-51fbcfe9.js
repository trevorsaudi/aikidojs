import{_ as O,eA as x,eB as v,f as y,cU as b,Y as B,bW as I,eL as L,r as s,q as a,k as _,w as i,o as r,n as o,s as u,u as c,aa as d,S as m,x as $,m as S,p as N,ai as P}from"./index-13ff96f4.js";import{O as z}from"./OnboardingProgressIndicator-8fa4a42d.js";const A={props:{title:String,description:String,numberOfSteps:Number,numberOfCompletedSteps:Number,onboardingSectionRighClass:{type:String,default:""}},components:{OnboardingSection:x,OnboardingPage:v,OnboardingProgressIndicator:z,BaseButton:y},data(){return{isLoading:!0}},async mounted(){this.showSamlRedirectModalIfNeeded()},methods:{getIndicatorClass(t){if(t-1===this.numberOfCompletedSteps)return"onboarding__progress__indicator--pending";if(t<this.numberOfCompletedSteps)return"onboarding__progress__indicator--completed"},async handleLogout(){b.track("Account Signed Out"),b.track("User Signed Out"),await B.logOut()},async showSamlRedirectModalIfNeeded(){if(!["google","office365"].includes(this.$user.auth_type)){this.isLoading=!1;return}if((await I()).length>0){this.isLoading=!1;return}try{const n=await L(this.$user.email,!0);if(n!=null&&n.should_auto_redirect){localStorage.setItem("auth.login.saml.domain",n.domain),window.location.href=n.url;return}this.isLoading=!1,this.$modal.show("SamlRedirectModal",{samlSsoUrl:n.url,samlDomain:n.domain})}catch{}this.isLoading=!1}}},M=o("img",{class:"",src:"https://cdn.aikido.dev/assets/logo-orange.svg?v=2",width:"180"},null,-1),R={class:"onboarding__title mb-36px mt-64px text-primary-aik-140"},U={class:"onboarding__paragraph onboarding__paragraph--size-large text-carbon-60"},V={class:"flex justify-end mt-16px"},G={class:"flex flex-1 align-center justify-center"};function j(t,n,e,k,p,l){const g=s("XPreloader"),f=s("OnboardingProgressIndicator"),h=s("OnboardingSection"),C=s("BaseButton"),w=s("OnboardingPage");return p.isLoading?(a(),_(g,{key:0,class:"supercenter"})):(a(),_(w,{key:1},{default:i(()=>[r(h,{"align-content":"bottom",theme:"light",class:"onboarding__section__content"},{default:i(()=>[M,o("h1",R,[u(c(e.title)+" ",1),d(t.$slots,"title")]),o("p",U,c(e.description),1),r(f,{"number-of-steps":e.numberOfSteps,"number-of-completed-steps":e.numberOfCompletedSteps},null,8,["number-of-steps","number-of-completed-steps"])]),_:3}),r(h,{"align-content":"top",theme:"dark",class:m(e.onboardingSectionRighClass)},{default:i(()=>[o("div",V,[r(C,{onClicked:l.handleLogout,rounded:"",variation:"secondary"},{default:i(()=>[u("Logout")]),_:1},8,["onClicked"])]),o("div",G,[d(t.$slots,"default")])]),_:3},8,["class"])]),_:3}))}const K=O(A,[["render",j]]),D={components:{BaseIcon:$},props:{icon:String,title:String,description:String,preferred:Boolean,clickable:Boolean,svgIcon:String},emits:["click"],computed:{preferenceClass(){return this.preferred?"onboarding__card-wrapper--preferred":"onboarding__card-wrapper--default"}}},X={class:"onboarding__card-inner-wrapper"},q={class:"onboarding__card"},E={class:"flex flex-column gap-12px"},T={class:"flex flex-column gap-16px h-full"},W={class:"onboarding__title text-white"},Y={class:"onboarding__paragraph onboarding__paragraph--size-medium text-carbon-40 flex-grow"};function F(t,n,e,k,p,l){const g=s("BaseIcon");return a(),S("div",{class:m(["onboarding__card-wrapper",[l.preferenceClass,e.clickable&&"onboarding__card--clickable"]]),onClick:n[0]||(n[0]=P(f=>t.$emit("click"),["stop"]))},[o("div",X,[o("div",q,[o("div",E,[e.icon?(a(),S("i",{key:0,class:m(["icon",e.icon])},null,2)):e.svgIcon?(a(),_(g,{key:1,icon:e.svgIcon,size:16},null,8,["icon"])):N("",!0),o("div",T,[o("h4",W,c(e.title),1),o("p",Y,[u(c(e.description),1),d(t.$slots,"description")]),d(t.$slots,"default")])])])])],2)}const Q=O(D,[["render",F]]);export{K as C,Q as O};
