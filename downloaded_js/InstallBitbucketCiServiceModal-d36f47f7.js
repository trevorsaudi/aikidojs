import{_ as m,M as x,B as C,f as v,H as P,bk as y,d as w,g as M,Z as H,aE as S,ak as I,r as a,q as R,k as L,w as t,o as e,n as o,s,a as b}from"./index-13ff96f4.js";import{B as V}from"./BaseLabel-a1c0ca00.js";import{B as N}from"./BaseRadioInput-a7ac3557.js";const T={emits:["close"],props:{show:Boolean},data(){return{kind:"bitbucket_checks",isSaving:!1}},components:{BaseModal:x,BaseParagraph:C,BaseButton:v,BaseHeading:P,BaseLabel:V,BaseBody:y,BaseRadioInput:N,BasePill:w,BaseLink:M},methods:{handleClose(){this.$emit("close")},handleSelectOption(n){this.kind=n},handleConfirm(){this.isSaving=!0,this.kind==="bitbucket_checks"?this.handleInstallBitbucketChecks():this.handleInstallBitbucketPipelines(),this.handleClose()},handleInstallBitbucketPipelines(){this.$router.push("/settings/integrations/continuous-integration")},handleInstallBitbucketChecks(){if(H.data.bitbucketChecks)return this.$router.push("/settings/integrations/bitbucket/checks");let n="H7Px4aH4zLbcPfBRKk",i="http://localhost:5001/settings/integrations/bitbucket/checks/callback";b()==="staging"?(n="H7Px4aH4zLbcPfBRKk",i="https://app.test.aikido.dev/settings/integrations/bitbucket/checks/callback"):b()==="production"&&(n="T8cZ9N3wvKmX2HUrVH",i="https://app.aikido.dev/settings/integrations/bitbucket/checks/callback");const r={state:S("bitbucket_pr_checks"),client_id:n,redirect_uri:i,response_type:"code"};window.location=`https://bitbucket.org/site/oauth2/authorize?${I(r)}`}}},z={class:"relative flex flex-column gap-12px"},K={for:"bitbucket_checks",class:"flex justify-between align-center py-16px px-8px gap-8px border-bottom-1 border-carbon-20 cursor-pointer"},O={class:"flex flex-column max-w-full gap-4px"},X={class:"flex gap-8px align-center"},j={for:"bitbucket_pipelines",class:"flex justify-between align-center py-16px px-8px gap-8px cursor-pointer"},q={class:"flex flex-column max-w-full gap-4px"};function U(n,i,r,Z,c,l){const _=a("BaseParagraph"),g=a("BaseHeading"),d=a("BaseBody"),f=a("BasePill"),p=a("BaseLink"),u=a("BaseLabel"),k=a("BaseRadioInput"),h=a("BaseButton"),B=a("BaseModal");return R(),L(B,{width:600,onClose:l.handleClose},{header:t(()=>[e(_)]),content:t(()=>[o("div",z,[e(g,{as:"h3"},{default:t(()=>[s("Choose PR Gating Method for Bitbucket")]),_:1}),o("label",K,[o("div",O,[o("div",X,[e(d,{loose:!0,bold:"",class:"flex align-center gap-8px"},{default:t(()=>[s("Manage PR gating configuration via Aikido dashboard")]),_:1}),e(f,{title:"Recommended",variation:"purple"})]),e(u,{color:"gray",class:"text-break-all"},{default:t(()=>[s(" Configure all checks in bulk without any code. Does not consume CI minutes. "),e(p,{class:"block text--normal text-inherit",target:"_blank",href:"https://help.aikido.dev/doc/bitbucket-ci-pr-gating-via-aikido-dashboard/doch295iCBaX"},{default:t(()=>[s("More info")]),_:1})]),_:1})]),e(k,{name:"kind",id:"bitbucket_checks",value:"bitbucket_checks",checked:c.kind==="bitbucket_checks",onSelect:i[0]||(i[0]=()=>l.handleSelectOption("bitbucket_checks"))},null,8,["checked"])]),o("label",j,[o("div",q,[e(d,{loose:!0,bold:"",class:"flex align-center gap-8px"},{default:t(()=>[s("Manage MR gating via Bitbucket Pipelines in code")]),_:1}),e(u,{color:"gray",class:"text-break-all"},{default:t(()=>[s(" Set up each repository individually via code. Consumes CI minutes in Bitbucket Pipelines. "),e(p,{class:"block text--normal text-inherit",target:"_blank",href:"https://help.aikido.dev/doc/bitbucket-pipes-setting-up-gating-for-pull-requests-via-code/docl8wXHhcmn"},{default:t(()=>[s("More info")]),_:1})]),_:1})]),e(k,{name:"kind",id:"bitbucket_pipelines",value:"bitbucket_pipelines",checked:c.kind==="bitbucket_pipelines",onSelect:i[1]||(i[1]=()=>l.handleSelectOption("bitbucket_pipelines"))},null,8,["checked"])])])]),footer:t(()=>[e(h,{onClicked:l.handleClose,variation:"tertiary",class:"ml-auto"},{default:t(()=>[s(" Cancel ")]),_:1},8,["onClicked"]),e(h,{onClicked:l.handleConfirm,"is-loading":c.isSaving},{default:t(()=>[s(" Continue ")]),_:1},8,["onClicked","is-loading"])]),_:1},8,["onClose"])}const G=m(T,[["render",U]]);export{G as default};
