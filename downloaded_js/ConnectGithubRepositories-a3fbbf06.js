import{_ as d,eM as m,eN as C,r as n,m as h,k as a,w as u,p as i,F as E,ar as R,q as s,o as S}from"./index-13ff96f4.js";import{c as T}from"./trycatch-83445d5b.js";import{C as f}from"./ConnectRepositories-7287147d.js";import{C as O}from"./ConnectEmail-cd6262d7.js";import{O as I}from"./OnboardingEmptyState-28bd43c0.js";import"./OnboardingProgressIndicator-8fa4a42d.js";import"./InputCheckbox-81cb3ca6.js";import"./focusModePreference-150f170e.js";const _={components:{ConnectRepositories:f,ConnectEmail:O,OnboardingEmptyState:I},data(){return{showConnectRepositoriesStep:!0,showConfirmEmailStep:!1,selectedRepositoryIds:[]}},methods:{handleSelectRepositories({selectedRepositoryIds:e}){this.selectedRepositoryIds=e,this.showConnectRepositoriesStep=!1,this.showConfirmEmailStep=!0},handleGoBack(){this.showConnectRepositoriesStep=!0,this.showConfirmEmailStep=!1},async handleComplete(){const e=await m(this.selectedRepositoryIds);C();for(const r of e)await T({statusCode:404,errMessage:"The provided scm_integration_repo_id does not belong to an active repository"},async()=>{await R(r,{no_disable_buttons:!0})})},async handleCreateSample(){go("/onboarding/demo")},handleUseDifferentAccount(){this.$router.replace("/onboarding/github/connect-organization")},goBack(){if(this.$user.auth_type!="github"){this.$router.replace("/onboarding/self-managed/select-onboarding-type");return}this.$router.replace("/onboarding/github/connect-organization")}}};function y(e,r,N,g,o,t){const c=n("OnboardingEmptyState"),p=n("ConnectRepositories"),l=n("ConnectEmail");return s(),h(E,null,[o.showConnectRepositoriesStep?(s(),a(p,{key:0,title:e.$t("ONBOARDING.GITHUB.CONNECT_REPOSITORIES.TITLE"),"number-of-steps":3,"number-of-completed-steps":1,"already-selected-repository-ids":o.selectedRepositoryIds,onContinue:t.handleSelectRepositories,onBack:t.goBack,icon:"icon-github"},{emptyState:u(()=>[S(c,{title:e.$t("ONBOARDING.GITHUB.CONNECT_REPOSITORIES.EMPTY_STATE.TITLE"),description:e.$t("ONBOARDING.GITHUB.CONNECT_REPOSITORIES.EMPTY_STATE.DESCRIPTION"),"primary-cta":e.$t("ONBOARDING.GITHUB.CONNECT_REPOSITORIES.EMPTY_STATE.PRIMARY_CTA"),"secondary-cta":e.$t("ONBOARDING.GITHUB.CONNECT_REPOSITORIES.EMPTY_STATE.SECONDARY_CTA"),onUseSample:t.handleCreateSample,onUseDifferentAccount:t.handleUseDifferentAccount},null,8,["title","description","primary-cta","secondary-cta","onUseSample","onUseDifferentAccount"])]),_:1},8,["title","already-selected-repository-ids","onContinue","onBack"])):i("",!0),o.showConfirmEmailStep?(s(),a(l,{key:1,"number-of-steps":3,"number-of-completed-steps":2,onBack:this.handleGoBack,onContinue:t.handleComplete},null,8,["onBack","onContinue"])):i("",!0)],64)}const U=d(_,[["render",y]]);export{U as default};
