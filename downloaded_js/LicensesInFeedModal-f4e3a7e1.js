import{_ as l,au as r,A as c,r as n,q as p,k as u,w as h,o as f}from"./index-13ff96f4.js";import{R as m}from"./RadioButtonList-1d4cdaad.js";import{u as g}from"./licenses-6ab38515.js";const w={components:{BaseConfirmModal:r,RadioButtonList:m},props:{exportType:{required:!0,type:String}},data(){return{selectedOption:"disabled",options:[{id:"disabled",title:"Do not show licenses in feed",description:"License issues are not shown in feed nor added to statistics in reports."},{id:"criticals",title:"Show critical only licenses",description:"Critical license issues are shown in feed and are added to statistics in reports."},{id:"highs",title:"Show critical and high severity licenses",description:"Critical and high severity license issues are shown in feed and are added to statistics in reports."}]}},mounted(){this.setCurrentSelectedOptionBasedOnFlags()},methods:{setCurrentSelectedOptionBasedOnFlags(){this.$featureflags.licenses_in_feed?this.$featureflags.exclude_high_risk_licenses_in_feed?this.selectedOption="criticals":this.selectedOption="highs":this.selectedOption="disabled"},async handleSubmit(){await g(this.selectedOption),c.fetchProfile(),this.$toast.success("Changes applied successfully. This will reflect in the feed within a few minutes."),this.$emit("close")}}};function C(i,e,S,_,s,o){const d=n("RadioButtonList"),a=n("BaseConfirmModal");return p(),u(a,{width:600,headerText:" ",title:"Show License Issues in Feed",description:"This allows for snoozing and ignoring license issues, and creating tasks from the Aikido feed.",buttonSubmitText:"Apply Changes",onSubmit:o.handleSubmit,onClose:e[1]||(e[1]=t=>i.$emit("close")),onSecondaryButtonClicked:e[2]||(e[2]=t=>i.$emit("close"))},{default:h(()=>[f(d,{class:"max-h-300px scroll-y-auto",modelValue:s.selectedOption,"onUpdate:modelValue":e[0]||(e[0]=t=>s.selectedOption=t),options:s.options},null,8,["modelValue","options"])]),_:1},8,["onSubmit"])}const b=l(w,[["render",C]]);export{b as default};
