import{A as w}from"./ActionMenu-3e4470bf.js";import{_ as I,I as x,bt as B,al as P,r as m,q as a,m as n,n as c,u as p,p as r,o as g,w as b,k as L,F as f,t as S,S as _,s as N}from"./index-13ff96f4.js";const v=e=>{const l=e.toLowerCase();return q(l)},q=e=>(e=e.replace(/á|ä|â|à|ã|å|ā/g,"a"),e=e.replace(/Á|Ä|Â|À|Ã|Å|Ā/g,"A"),e=e.replace(/é|ë|ê|è|ẽ|ē|ę|ė/g,"e"),e=e.replace(/É|Ë|Ê|È|Ẽ|Ē|Ę|Ė/g,"E"),e=e.replace(/í|ï|î|ì|ĩ|ī|į/g,"i"),e=e.replace(/Í|Ï|Î|Ì|Ĩ|Ī|Į/g,"I"),e=e.replace(/ó|ö|ô|ò|õ|ō|ø/g,"o"),e=e.replace(/Ó|Ö|Ô|Ò|Õ|Ō/g,"O"),e=e.replace(/ú|ü|û|ù|ũ|ū/g,"u"),e=e.replace(/Ú|Ü|Û|Ù|Ũ|Ū/g,"U"),e=e.replace(/ñ|ń/g,"n"),e=e.replace(/Ñ|Ń/g,"N"),e=e.replace(/ç/g,"c"),e=e.replace(/Ç/g,"C"),e=e.replace(/j́/g,"j"),e=e.replace(/J́/g,"J"),e),O={components:{InputSearch:x,ActionMenu:w,BasePopover:B,LoadingSpinner:P},emits:["update:modelValue"],expose:["prefillSearch","closePopover"],props:{options:{type:Array,required:!0},modelValue:{type:String,required:!0},label:{type:String,required:!1},sublabel:{type:String,required:!1},theme:{type:String,required:!1,default:"light"},inputClass:{type:String,default:""},isLoading:{type:Boolean,default:!1},allowFlip:{type:Boolean,default:!0},popoverClass:{type:String,default:""},ignoreSearchFilterWhenValueIsSelected:{type:Boolean,default:!1},useFocus:{type:Boolean,default:!1}},data(){return{search:""}},watch:{modelValue:{immediate:!0,handler(){this.prefillSearch()}}},methods:{onFocus(e){this.useFocus&&this.onSearchClick(e)},onSearchClick(e){this.$refs.searchPopover.isOpen||e.toggle()},prefillSearch(){if(!this.modelValue)return;const e=this.options.find(l=>l.value==this.modelValue);e&&(this.search=e.label)},closePopover(){this.$refs.searchPopover&&this.$refs.searchPopover.hidePopover()}},computed:{sections(){const e=v(this.search);let l=this.options.filter(i=>v(i.label).includes(e));const t=this.modelValue!=null&&this.modelValue!=-1;this.ignoreSearchFilterWhenValueIsSelected&&t&&(l=this.options);const d=l.map(i=>({label:i.label,onClick:()=>{this.search=i.label,this.$emit("update:modelValue",i.value)},active:this.modelValue===i.label}));return d.length==0&&d.push({label:this.$t("NO_ITEMS_FOUND"),disabled:!0}),[{items:d}]},themeClass(){return this.theme==="light"?"select-input--theme-light":"select-input--theme-dark"}}},z={key:0,class:"select-input__label"},A={key:0,class:"select-input__label__sub-label"},W={class:"relative"},D={class:"action-menu max-h-250px overflow-y-scroll scrollbar-simple-carbon-60--inverted"},E={key:0,class:"action-menu__section-title"},M=["disabled","onClick"],U={class:"action-menu__section-items"},j=["onClick","disabled"];function J(e,l,t,d,i,u){const C=m("InputSearch"),k=m("LoadingSpinner"),y=m("BasePopover");return a(),n("div",{class:_(["select-input",[u.themeClass]])},[t.label?(a(),n("label",z,[c("span",null,p(t.label),1),t.sublabel?(a(),n("span",A,p(t.sublabel),1)):r("",!0)])):r("",!0),g(y,{popoverClass:t.popoverClass,placement:"bottom-start",fullWidth:!0,ref:"searchPopover",keepOtherPopoversOpen:!0,allowFlip:t.allowFlip},{trigger:b(o=>[c("div",W,[g(C,{modelValue:i.search,"onUpdate:modelValue":[l[0]||(l[0]=h=>i.search=h),l[1]||(l[1]=h=>e.$emit("update:modelValue",null))],onClick:()=>u.onSearchClick(o),onFocus:()=>u.onFocus(o),spacing:"compact",fullWidth:!0,inputClass:t.inputClass},null,8,["modelValue","onClick","onFocus","inputClass"]),t.isLoading?(a(),L(k,{key:0,class:"absolute pin-r-9px pin-t-9px",color:"#645dd7","background-color":"#d0cdff",width:16,height:16})):r("",!0)])]),content:b(()=>[c("div",D,[(a(!0),n(f,null,S(u.sections,(o,h)=>(a(),n("div",{key:h,class:"action-menu__section"},[o.title?(a(),n("div",E,[c("p",null,p(o.title),1),o.action?(a(),n("button",{key:0,disabled:o.action.disabled,class:"button-brand button--as-link",onClick:o.action.onClick},p(o.action.label),9,M)):r("",!0)])):r("",!0),c("ul",U,[(a(!0),n(f,null,S(o.items,(s,V)=>(a(),n("li",{key:V,class:_(["action-menu__section__item",[s.active&&"action-menu__section__item--active",s.destructive&&"action-menu__section__item--destructive"]])},[c("button",{onClick:F=>s.onClick(F),disabled:s.disabled,class:"action-menu__section__item-button"},[s.icon?(a(),n("i",{key:0,class:_(["icon icon-14px mr-12px",[s.icon]])},null,2)):r("",!0),N(" "+p(s.label),1)],8,j)],2))),128))])]))),128))])]),_:1},8,["popoverClass","allowFlip"])],2)}const H=I(O,[["render",J]]);export{H as I};
