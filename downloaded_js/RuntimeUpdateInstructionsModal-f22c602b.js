import{_ as I,X as V,g as w,au as U,B as b,V as C,f as L,e0 as S,d_ as O,r as o,q as c,k as y,w as l,m as u,o as i,F as j,s as h,n as d,u as R,p as M}from"./index-13ff96f4.js";import{B as N}from"./BaseCodeBlock-cec75629.js";import{I as P}from"./InputFilterDropdown-674351d9.js";import{g,c as p}from"./runtimeSetup-d4572211.js";import"./FilterButton-bb5393a7.js";import"./ActionMenu-3e4470bf.js";const T={components:{XPreloader:V,BaseLink:w,BaseCodeBlock:N,BaseConfirmModal:U,BaseParagraph:b,InputText:C,BaseButton:L,InputFilterDropdown:P},props:{serviceId:{type:String,required:!0}},computed:{changelogURL(){var e,a;const t=((e=this.service)==null?void 0:e.language)||"js";return((a=g().find(s=>s.value===t))==null?void 0:a.changelog)||""},packageURL(){var e,a;const t=((e=this.service)==null?void 0:e.language)||"js";return((a=g().find(s=>s.value===t))==null?void 0:a.package)||""},packageIcon(){var a,s;const t=((a=this.service)==null?void 0:a.language)||"js";return`/assets/icons/${((s=g().find(n=>n.value===t))==null?void 0:s.packageIcon)||""}`},packageService(){var e,a;const t=((e=this.service)==null?void 0:e.language)||"js";return((a=g().find(s=>s.value===t))==null?void 0:a.packageService)||""},upgradeOptions(){if(!this.service)return[];const t=this.service.language||"js";return p(this.latestVersion,t)},latestVersion(){var t,e,a;return this.service?(e=(t=this.service)==null?void 0:t.agent)!=null&&e.latest_version?this.service.agent.latest_version:(a=this.latestVersions.find(s=>s.runtime===this.service.runtime))==null?void 0:a.version:"js"},selectedUpgradeOption(){if(!this.service)return;const t=this.service.language||"js";return p(this.latestVersion,t).find(e=>e.value===this.selectedUpgradeOptionId)}},data(){return{selectedUpgradeOptionId:"npm",loading:!0,latestVersions:[]}},async mounted(){this.service=await S(this.serviceId),this.latestVersions=await O();const t=this.service.language||"js",e=p("latest",t);e.length>0&&(this.selectedUpgradeOptionId=e[0].value),this.loading=!1}},F={key:0,class:"w-full h-300px"},D=d("i",{class:"icon icon-github icon-12px"},null,-1),X=["src"],H={key:0,class:"mb-32px"},q=["innerHTML"];function Z(t,e,a,s,n,r){const _=o("XPreloader"),m=o("BaseLink"),v=o("BaseParagraph"),k=o("InputFilterDropdown"),B=o("BaseCodeBlock"),x=o("BaseConfirmModal");return c(),y(x,{width:800,title:"How To Upgrade Zen",description:"Select the package manager you are using and follow the instructions to upgrade Zen.",buttonSubmitText:"Close",onSubmit:e[1]||(e[1]=f=>t.$emit("close")),allowBackgroundClose:!1,hideSecondaryButton:!0},{default:l(()=>[n.loading?(c(),u("div",F,[i(_,{size:"medium",class:"absolute-centered"})])):(c(),u(j,{key:1},[i(v,{class:"-mt-24px mb-32px flex align-center gap-16px"},{default:l(()=>[i(m,{class:"flex align-center gap-4px",href:r.changelogURL,target:"_blank",rel:"noopener noreferrer"},{default:l(()=>[D,h(" View changelog ")]),_:1},8,["href"]),i(m,{class:"flex align-center gap-4px",href:r.packageURL,target:"_blank",rel:"noopener noreferrer"},{default:l(()=>[d("img",{src:r.packageIcon,alt:"npm",height:"12",class:"text-surface-blue-100"},null,8,X),h(" View on "+R(r.packageService),1)]),_:1},8,["href"])]),_:1}),n.loading?M("",!0):(c(),u("div",H,[i(k,{options:r.upgradeOptions,modelValue:n.selectedUpgradeOptionId,"onUpdate:modelValue":e[0]||(e[0]=f=>n.selectedUpgradeOptionId=f),class:"mb-16px",disableActiveState:!0},null,8,["options","modelValue"]),i(B,{class:"overflow-x-auto"},{default:l(()=>[d("pre",{innerHTML:r.selectedUpgradeOption.snippet.trim()},null,8,q)]),_:1})]))],64))]),_:1})}const Q=I(T,[["render",Z]]);export{Q as default};
