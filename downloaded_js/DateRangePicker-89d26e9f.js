import{_ as D,bt as E,a3 as s,r as i,q as n,k as u,w as m,aa as F,o as p,n as l,u as f,m as g,p as c,ai as k}from"./index-13ff96f4.js";import{I as A}from"./BreakSlashes-925eef0e.js";import{F as R}from"./FilterButton-bb5393a7.js";const P={components:{BasePopover:E,InputDatePicker:A,FilterButton:R},emits:["update"],props:{customEmptystate:String},data(){return{from:null,parsedFrom:null,to:null,parsedTo:null}},watch:{from(e){if(e===""){this.parsedFrom=null,this.$emit("update",{from:this.parsedFrom,to:this.parsedTo});return}const t=s.fromFormat(e,s.DATE_PICKER_INPUT);(t.isValid()||e==="")&&(this.parsedFrom=t.startOfDay(),this.$emit("update",{from:this.parsedFrom,to:this.parsedTo}))},to(e){if(e===""){this.parsedTo=null,this.$emit("update",{from:this.parsedFrom,to:this.parsedTo});return}const t=s.fromFormat(e,s.DATE_PICKER_INPUT);(t.isValid()||e==="")&&(this.parsedTo=t.startOfDay(),this.$emit("update",{from:this.parsedFrom,to:this.parsedTo}))}},computed:{buttonLabel(){return!this.parsedFrom&&!this.parsedTo?this.customEmptystate||"DATE_RANGE_PICKER.NO_DATE":this.parsedFrom&&this.parsedTo?"DATE_RANGE_PICKER.BETWEEN":this.parsedTo&&!this.parsedFrom?"DATE_RANGE_PICKER.TO_DATE":"DATE_RANGE_PICKER.FROM_DATE"},formattedFromDate(){return this.parsedFrom&&this.parsedFrom.format(s.SHORT_DATE_FORMAT)},formattedToDate(){return this.parsedTo&&this.parsedTo.format(s.SHORT_DATE_FORMAT)}}},x={class:"text-primary-aik-100"},y={class:"text-primary-aik-100"},C={key:0,class:"icon icon-calender icon-12px ml-4px"};function I(e,t,B,N,o,r){const _=i("i18n-t"),T=i("FilterButton"),d=i("InputDatePicker"),h=i("BasePopover");return n(),u(h,{placement:"bottom-start"},{trigger:m(a=>[F(e.$slots,"trigger",{toggle:a.toggle,buttonLabel:r.buttonLabel,formattedFromDate:r.formattedFromDate,formattedToDate:r.formattedToDate}),e.$slots.trigger?c("",!0):(n(),u(T,{key:0,onClick:a.toggle,class:"gap-4px"},{default:m(()=>[p(_,{keypath:r.buttonLabel},{fromDate:m(()=>[l("span",x,f(r.formattedFromDate),1)]),toDate:m(()=>[l("span",y,f(r.formattedToDate),1)]),_:1},8,["keypath"]),!o.parsedFrom&&!o.parsedTo?(n(),g("i",C)):c("",!0)]),_:2},1032,["onClick"]))]),content:m(()=>[l("div",{class:"flex flex-column gap-12px py-12px px-8px",onClick:t[2]||(t[2]=k(()=>{},["stop"]))},[p(d,{theme:"light",modelValue:o.from,"onUpdate:modelValue":t[0]||(t[0]=a=>o.from=a),title:"Start date",name:"rangeFrom"},null,8,["modelValue"]),p(d,{theme:"light",modelValue:o.to,"onUpdate:modelValue":t[1]||(t[1]=a=>o.to=a),title:"End date",name:"rangeTo"},null,8,["modelValue"])])]),_:3})}const K=D(P,[["render",I]]);export{K as D};
