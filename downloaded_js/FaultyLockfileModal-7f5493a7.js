import{_ as E,M as y,B as O,H as S,f as k,al as M,dk as T,r,q as n,k as A,w as t,o as a,s,u as i,m as l,n as D,F as L,t as h}from"./index-13ff96f4.js";const N={components:{BaseModal:y,BaseParagraph:O,BaseHeading:S,BaseButton:k,LoadingSpinner:M},props:{repositoryId:String},data(){return{findings:[],isLoading:!0}},async mounted(){const e=await T();this.findings=e.faulty_locations.filter(o=>o.repo_id===parseInt(this.repositoryId,10)),this.isLoading=!1},computed:{findingsByFilepath(){let e={};for(const o of this.findings){const _=e[o.target_path]??[],p=this.getLabelForCondition(o.condition);e[o.target_path]=[..._,p]}return e}},methods:{handleCloseModal(){this.$emit("close")},getLabelForCondition(e){switch(e){case"no_versions_specified":return{title:this.$t("FAULTY_LOCK_FILE_MODAL.ISSUE.NO_VERSIONS_SPECIFIED.TITLE"),description:this.$t("FAULTY_LOCK_FILE_MODAL.ISSUE.NO_VERSIONS_SPECIFIED.DESCRIPTION")};default:return{}}}}},b={key:0,class:"flex align-center justify-center w-full mt-16px"},v={key:1,class:"flex flex-column gap-12px"},w={class:"flex gap-12px flex-column mt-12px"};function P(e,o,_,p,u,c){const d=r("BaseParagraph"),m=r("LoadingSpinner"),F=r("BaseHeading"),B=r("BaseButton"),I=r("BaseModal");return n(),A(I,{width:600,onClose:c.handleCloseModal},{header:t(()=>[a(d,{color:"gray"},{default:t(()=>[s(i(e.$t("FAULTY_LOCK_FILE_MODAL.META")),1)]),_:1})]),content:t(()=>[u.isLoading?(n(),l("div",b,[a(m,{color:"#645dd7","background-color":"#d0cdff",width:30,height:30})])):(n(),l("div",v,[a(F,{as:"h3"},{default:t(()=>[s(i(e.$t("FAULTY_LOCK_FILE_MODAL.TITLE")),1)]),_:1}),a(d,{size:"medium"},{default:t(()=>[s(i(e.$t("FAULTY_LOCK_FILE_MODAL.DESCRIPTION")),1)]),_:1}),D("div",w,[(n(!0),l(L,null,h(c.findingsByFilepath,(C,f)=>(n(),l("div",{key:f,class:"flex flex-column gap-8px"},[a(d,{bold:"",size:"medium",class:"mt-8px"},{default:t(()=>[s(i(f),1)]),_:2},1024),(n(!0),l(L,null,h(C,(g,x)=>(n(),l("div",{key:x,class:"ml-8px flex flex-column gap-4px"},[a(d,{bold:""},{default:t(()=>[s(i(g.title),1)]),_:2},1024),a(d,null,{default:t(()=>[s(i(g.description),1)]),_:2},1024)]))),128))]))),128))])]))]),footer:t(()=>[a(B,{variation:"plain",onClicked:c.handleCloseModal,class:"ml-auto",disabled:u.isLoading},{default:t(()=>[s("Okay")]),_:1},8,["onClicked","disabled"])]),_:1},8,["onClose"])}const K=E(N,[["render",P]]);export{K as F};
