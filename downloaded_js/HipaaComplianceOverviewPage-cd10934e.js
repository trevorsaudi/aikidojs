import{k as B}from"./reports-ed4978a9.js";import{P as q}from"./PageHeader-46c38a32.js";import{_ as A,H as S,X as F,dv as H,B as L,aV as T,r as e,m as n,o as t,w as r,n as o,k as p,F as c,t as z,p as I,q as s,s as d,S as M,u as _}from"./index-13ff96f4.js";import{A as O}from"./ActionMenu-3e4470bf.js";import{F as R}from"./FilterButton-bb5393a7.js";import{C as D}from"./ComplianceSection-1226ea47.js";import{C as V}from"./CompliancePrintHeader-341b18be.js";import{P as N}from"./PdfDownloadButton-072addbd.js";import"./AccordionContainer-09dc0ed4.js";import"./DataTable-e31a825a.js";import"./DataTableCell-51c0104f.js";import"./BracesIcon-0a8568f4.js";const X={components:{PageHeader:q,BaseHeading:S,XPreloader:F,ProgressBar:H,ComplianceSection:D,CompliancePrintHeader:V,ActionMenu:O,FilterButton:R,BaseParagraph:L,PdfDownloadButton:N},data(){return{isLoading:!0,overview:{},groupReference:void 0,mode:void 0}},provide(){return{filter_team_id:T(()=>this.$teamContext)}},async mounted(){await Promise.allSettled([this.loadComplianceOverview()])},watch:{async $teamContext(){this.$globalLoadingIndicator.show();try{await this.loadComplianceOverview()}finally{this.$globalLoadingIndicator.hide()}}},computed:{breadcrumbs(){return[{label:"Reports",href:"/reports"},{label:"HIPAA"}]},compliance(){const i=this.overview.total_complying_rule_count??0,m=this.overview.total_rule_count??0;return i===0||this.isLoading?0:Math.round(i/m*100)},sections(){return this.mode?this.overview[this.mode]??{}:{...this.overview.general_requirements_result??{},...this.overview.administrative_safeguards_result??{},...this.overview.technical_safeguards_result??{}}},filterLabel(){return this.mode?this.mode==="general_requirements_result"?"1.3 Security Standards":this.mode==="administrative_safeguards_result"?"1.4 Administrative Safeguards":this.mode==="physical_safeguards"?"1.5 Physical Safeguards":this.mode==="technical_safeguards_result"?"1.6 Technical Safeguards":this.mode==="organizational_requirements"?"1.7 Organizational Requirements":this.mode==="policies_and_procedures"?"1.8 Policies and Procedures":this.mode==="compliance_dates"?"1.9 Compliance Dates":"Filter controls":"Filter controls"},actions(){return[{title:"Controls",action:{label:"Clear filter",onClick:()=>this.mode=void 0},items:[{label:"1.3 Security Standards",onClick:()=>this.handleChangeFilter("general_requirements_result"),active:this.mode==="general_requirements_result"},{label:"1.4 Administrative Safeguards",onClick:()=>this.handleChangeFilter("administrative_safeguards_result"),active:this.mode==="administrative_safeguards_result"},{label:"1.5 Physical Safeguards",onClick:()=>this.handleChangeFilter("physical_safeguards"),active:this.mode==="physical_safeguards"},{label:"1.6 Technical Safeguards",onClick:()=>this.handleChangeFilter("technical_safeguards_result"),active:this.mode==="technical_safeguards_result"},{label:"1.7 Organizational Requirements",onClick:()=>this.handleChangeFilter("organizational_requirements"),active:this.mode==="organizational_requirements"},{label:"1.8 Policies and procedures and documentation requirements ",onClick:()=>this.handleChangeFilter("policies_and_procedures"),active:this.mode==="policies_and_procedures"},{label:"1.9 Compliance dates for the initial implementation of the security standards",onClick:()=>this.handleChangeFilter("compliance_dates"),active:this.mode==="compliance_dates"}]}]},emptyControlsMessage(){if(this.mode==="physical_safeguards")return"HIPAA compliances requires that physical security is monitored. This related to security of offices, data centers, the secure disposal of equipment. These requirements are external to the scope of Aikido.";if(this.mode==="organizational_requirements"||this.mode==="policies_and_procedures"||this.mode==="compliance_dates")return"This requirement is external to the scope of Aikido."}},methods:{async loadComplianceOverview(){this.overview=await B({teamId:null}),this.isLoading=!1},handleChangeFilter(i){if(this.mode===i){this.mode=void 0;return}this.mode=i}}},E={class:"flex gap-32px align-center"},W={class:"page-content"},j={class:"mb-16px flex align-center gap-12px"},G=o("i",{class:"icon icon-caret_down icon-12px"},null,-1),J={class:"flex flex-column gap-12px",id:"ComplianceSectionWrapper"},K={key:0,class:"flex rounded-8px py-32px px-16px bg-white border-1 border-carbon-20"};function Q(i,m,U,Y,u,a){const f=e("BaseHeading"),g=e("ProgressBar"),v=e("PdfDownloadButton"),C=e("PageHeader"),b=e("XPreloader"),P=e("FilterButton"),y=e("ActionMenu"),w=e("CompliancePrintHeader"),x=e("ComplianceSection"),k=e("BaseParagraph");return s(),n(c,null,[t(C,{breadcrumbs:a.breadcrumbs},{title:r(()=>[o("div",E,[t(f,{as:"h1"},{default:r(()=>[d("HIPAA compliance overview")]),_:1}),t(g,{progress:a.compliance},null,8,["progress"])])]),rightContent:r(()=>[t(v,{exportType:"pci"})]),_:1},8,["breadcrumbs"]),o("div",W,[u.isLoading?(s(),p(b,{key:0,class:"absolute-centered",theme:"transparent"})):(s(),n(c,{key:1},[o("div",j,[t(y,{sections:a.actions,placement:"bottom-start"},{trigger:r(l=>[t(P,{onClick:l.toggle,class:M({"filter-button--active":!!u.mode})},{default:r(()=>[d(_(a.filterLabel)+" ",1),G]),_:2},1032,["onClick","class"])]),_:1},8,["sections"])]),o("div",J,[t(w,{title:"HIPAA compliance overview"}),(s(!0),n(c,null,z(a.sections??{},(l,h)=>(s(),p(x,{key:h,section:l,code:h},null,8,["section","code"]))),128)),a.emptyControlsMessage?(s(),n("div",K,[t(k,{size:"medium"},{default:r(()=>[d(_(a.emptyControlsMessage),1)]),_:1})])):I("",!0)])],64))])],64)}const de=A(X,[["render",Q]]);export{de as default};
