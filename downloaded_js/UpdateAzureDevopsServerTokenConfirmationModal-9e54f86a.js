import{_ as D,M as g,f as x,B as v,H as T,r as t,q as l,k as r,w as e,o as s,s as o,n as y,u as m,m as w,F as A,t as z,p as u,S as H}from"./index-13ff96f4.js";import{D as N,a as M}from"./DataTable-e31a825a.js";import{a as P,D as V}from"./DataTableCell-51c0104f.js";const U={props:{difference:Number,reposNotAccessibleAnymore:Array},components:{BaseModal:g,BaseButton:x,BaseParagraph:v,BaseHeading:T,DataTable:N,DataTableHeader:M,DataTableRow:P,DataTableCell:V},emits:["cancel","confirm"],computed:{absoluteDifference(){return Math.abs(this.difference)}},methods:{handleCancel(){this.$emit("cancel")},handleConfirm(){this.$emit("confirm")},isClone(i){return i.scm_repo_uid.includes("_aikidoclone_")},isTfvc(i){return i.scm_repo_uid.startsWith("tfvc_")}}},F={class:"flex flex-column gap-12px"};function L(i,R,p,S,I,n){const c=t("BaseParagraph"),f=t("BaseHeading"),h=t("DataTableHeader"),d=t("BasePill"),b=t("DataTableCell"),C=t("DataTableRow"),k=t("DataTable"),_=t("BaseButton"),B=t("BaseModal");return l(),r(B,{width:600,onClose:n.handleCancel,allowBackgroundClose:!1},{header:e(()=>[s(c,{color:"gray"},{default:e(()=>[o("Update Azure DevOps token")]),_:1})]),content:e(()=>[y("div",F,[s(f,{as:"h3"},{default:e(()=>[o(" Updating the token will revoke Aikido's access to "+m(n.absoluteDifference)+" repositories ",1)]),_:1}),s(c,{size:"medium",loose:""},{default:e(()=>[o(" Are you sure you'd like to continue with updating this token? Aikido will remove those repositories and issues in your workspace and will result in losing any progress for those issues. ")]),_:1}),s(k,{isLoading:!i.loaded,class:"mt-16px"},{header:e(()=>[s(h,{width:"auto"},{default:e(()=>[o("Inaccessible repos")]),_:1})]),body:e(()=>[(l(!0),w(A,null,z(p.reposNotAccessibleAnymore,a=>(l(),r(C,{key:a.id,disabled:!a.active},{default:e(()=>[s(b,null,{default:e(()=>[s(c,{class:"truncate"},{default:e(()=>[o(m(a.scm_repo_name),1)]),_:2},1024),n.isClone(a)?(l(),r(d,{key:0,title:a.path_to_scan||a.scm_repo_default_branch,size:"compact",class:"inline-flex ml-4px mt-1px"},null,8,["title"])):n.isTfvc(a)?(l(),r(d,{key:1,title:"TFVC",size:"compact",class:"inline-flex ml-4px mt-1px"})):u("",!0),a.externally_archived?(l(),r(d,{key:2,class:H(["ml-auto text--capitalize data-table__row__action-container pin-r-16px pin-b-14px pin-t-14px cursor-pointer",{"brightness-95":!a.active}]),title:"Archived In Azure DevOps",variation:"gray-fill"},null,8,["class"])):u("",!0)]),_:2},1024)]),_:2},1032,["disabled"]))),128))]),_:1},8,["isLoading"])])]),footer:e(()=>[s(_,{onClicked:n.handleCancel,variation:"plain",class:"ml-auto"},{default:e(()=>[o("Cancel")]),_:1},8,["onClicked"]),s(_,{onClicked:n.handleConfirm},{default:e(()=>[o("Confirm Update")]),_:1},8,["onClicked"])]),_:1},8,["onClose"])}const W=D(U,[["render",L]]);export{W as default};
