import{_ as d,au as u,r as a,q as l,m as p,o as n,w as r,s as c,u as b}from"./index-13ff96f4.js";import{d as h}from"./export-427c6d83.js";const x={components:{BaseConfirmModal:u},emits:["submit","close"],props:{image:{required:!0}},computed:{canExportToSbom(){return this.image.cloud_id<=0},buttonSubmitText(){return this.canExportToSbom?"Export Raw SBOM":"Ok"},description(){return this.canExportToSbom?"Exporting the SBOM will allow you to analyze the software components and their dependencies in the image. This can be useful for debugging and security analysis.":"SBOM export is only available for images that are scanned by Aikido. This image is scanned by a 3rd party scanner."}},methods:{async handleExport(){if(!this.canExportToSbom){this.$emit("close");return}this.$emit("submit"),await h(`/api/containers/${this.image.id}/export/sbom`,{})}}};function S(o,e,f,g,B,t){const i=a("BaseParagraph"),s=a("BaseConfirmModal");return l(),p("div",null,[n(s,{width:600,headerText:"Export Raw SBOM",title:"Improve Debugging with SBOM export",buttonSubmitText:t.buttonSubmitText,hideSecondaryButton:!t.canExportToSbom,onSubmit:t.handleExport,onClose:e[0]||(e[0]=m=>o.$emit("close")),onSecondaryButtonClicked:e[1]||(e[1]=m=>o.$emit("close"))},{default:r(()=>[n(i,null,{default:r(()=>[c(b(t.description),1)]),_:1})]),_:1},8,["buttonSubmitText","hideSecondaryButton","onSubmit"])])}const E=d(x,[["render",S]]);export{E as default};
