import{n as F}from"./reports-ed4978a9.js";import{P as B}from"./PageHeader-46c38a32.js";import{_ as A,H as S,X as H,dv as M,B as T,aV as I,r as e,m as s,o as n,w as o,n as r,k as h,F as m,t as q,p as L,q as a,s as c,S as R,u as p}from"./index-13ff96f4.js";import{A as z}from"./ActionMenu-3e4470bf.js";import{F as O}from"./FilterButton-bb5393a7.js";import{C as D}from"./ComplianceSection-1226ea47.js";import{C as V}from"./CompliancePrintHeader-341b18be.js";import{P as N}from"./PdfDownloadButton-072addbd.js";import"./AccordionContainer-09dc0ed4.js";import"./DataTable-e31a825a.js";import"./DataTableCell-51c0104f.js";import"./BracesIcon-0a8568f4.js";const X={components:{PageHeader:B,BaseHeading:S,XPreloader:H,ProgressBar:M,ComplianceSection:D,CompliancePrintHeader:V,ActionMenu:z,FilterButton:O,BaseParagraph:T,PdfDownloadButton:N},data(){return{isLoading:!0,overview:{},groupReference:void 0,mode:void 0,filterTeamId:this.$route.query.filter_team_id??null}},provide(){return{filter_team_id:I(()=>this.filterTeamId)}},async mounted(){await Promise.allSettled([this.loadComplianceOverview()])},computed:{breadcrumbs(){return[{label:"Reports",href:"/reports"},{label:"HITRUST LVL3"}]},compliance(){const t=this.overview.total_complying_rule_count??0,d=this.overview.total_rule_count??0;return t===0||this.isLoading?0:Math.round(t/d*100)},sections(){return this.mode?this.overview[this.mode]??{}:{...this.overview.access_controls_result??{},...this.overview.compliance_result??{},...this.overview.communication_and_operations_management_result??{},...this.overview.information_systems_development_and_maintenance_result??{}}},filterLabel(){return this.mode?this.mode==="information_system_management_program"?"1. Information System Management Program":this.mode==="access_controls_result"?"2. Access Controls":this.mode==="human_resources_security"?"3. Human Resources Pecurity":this.mode==="risk_management"?"4. Risk Management":this.mode==="security_policy"?"5. Security Policy":this.mode==="organization_and_information_security"?"6. Organization and Information Security":this.mode==="compliance_result"?"7. Compliance":this.mode==="asset_management"?"8. Asset Management":this.mode==="physical_and_environmental_security"?"9. Physical and Environmental Security":this.mode==="communication_and_operations_management_result"?"10. Communication and operations Management":this.mode==="information_systems_development_and_maintenance_result"?"11. Information Systems, Acquisition, Development, and Maintenance":"Filter controls":"Filter controls"},actions(){return[{title:"Controls",action:{label:"Clear filter",onClick:()=>this.mode=void 0},items:[{label:"1. Information System Management Program",onClick:()=>this.handleChangeFilter("information_system_management_program"),active:this.mode==="information_system_management_program"},{label:"2. Access Controls",onClick:()=>this.handleChangeFilter("access_controls_result"),active:this.mode==="access_controls_result"},{label:"3. Human Resources Pecurity",onClick:()=>this.handleChangeFilter("human_resources_security"),active:this.mode==="human_resources_security"},{label:"4. Risk Management",onClick:()=>this.handleChangeFilter("risk_management"),active:this.mode==="risk_management"},{label:"5. Security Policy",onClick:()=>this.handleChangeFilter("security_policy"),active:this.mode==="security_policy"},{label:"6. Organization and Information Security",onClick:()=>this.handleChangeFilter("organization_and_information_security"),active:this.mode==="organization_and_information_security"},{label:"7. Compliance",onClick:()=>this.handleChangeFilter("compliance_result"),active:this.mode==="compliance_result"},{label:"8. Asset Management",onClick:()=>this.handleChangeFilter("asset_management"),active:this.mode==="asset_management"},{label:"9. Physical and Environmental Security",onClick:()=>this.handleChangeFilter("physical_and_environmental_security"),active:this.mode==="physical_and_environmental_security"},{label:"10. Communication and operations Management",onClick:()=>this.handleChangeFilter("communication_and_operations_management_result"),active:this.mode==="communication_and_operations_management_result"},{label:"11. Information Systems, Acquisition, Development, and Maintenance",onClick:()=>this.handleChangeFilter("information_systems_development_and_maintenance_result"),active:this.mode==="information_systems_development_and_maintenance_result"}]}]},emptyControlsMessage(){if(this.mode==="information_system_management_program"||this.mode==="human_resources_security"||this.mode==="risk_management"||this.mode==="security_policy"||this.mode==="organization_and_information_security"||this.mode==="asset_management"||this.mode==="physical_and_environmental_security")return"This requirement is external to the scope of Aikido."}},methods:{async loadComplianceOverview(){this.overview=await F({teamId:this.filterTeamId}),this.isLoading=!1},handleChangeFilter(t){if(this.mode===t){this.mode=void 0;return}this.mode=t},async handleFilterSelected(t){this.filterTeamId=t.teamFilter,this.$globalLoadingIndicator.show();try{await this.loadComplianceOverview()}finally{this.$globalLoadingIndicator.hide()}}}},E={class:"flex gap-32px align-center"},U={class:"page-content"},W={class:"mb-16px flex align-center gap-12px"},j=r("i",{class:"icon icon-caret_down icon-12px"},null,-1),G={class:"flex flex-column gap-12px",id:"ComplianceSectionWrapper"},J={key:0,class:"flex rounded-8px py-32px px-16px bg-white border-1 border-carbon-20"};function K(t,d,Q,Y,_,i){const f=e("BaseHeading"),g=e("ProgressBar"),y=e("PdfDownloadButton"),v=e("PageHeader"),C=e("XPreloader"),b=e("FilterButton"),k=e("ActionMenu"),P=e("CompliancePrintHeader"),x=e("ComplianceSection"),w=e("BaseParagraph");return a(),s(m,null,[n(v,{breadcrumbs:i.breadcrumbs},{title:o(()=>[r("div",E,[n(f,{as:"h1"},{default:o(()=>[c("Health Information Trust Alliance lvl 3")]),_:1}),n(g,{progress:i.compliance},null,8,["progress"])])]),rightContent:o(()=>[n(y,{exportType:"pci"})]),_:1},8,["breadcrumbs"]),r("div",U,[_.isLoading?(a(),h(C,{key:0,class:"absolute-centered",theme:"transparent"})):(a(),s(m,{key:1},[r("div",W,[n(k,{sections:i.actions,placement:"bottom-start"},{trigger:o(l=>[n(b,{onClick:l.toggle,class:R({"filter-button--active":!!_.mode})},{default:o(()=>[c(p(i.filterLabel)+" ",1),j]),_:2},1032,["onClick","class"])]),_:1},8,["sections"])]),r("div",G,[n(P,{title:"Health Information Trust Alliance lvl 3"}),(a(!0),s(m,null,q(i.sections??{},(l,u)=>(a(),h(x,{key:u,section:l,code:u},null,8,["section","code"]))),128)),i.emptyControlsMessage?(a(),s("div",J,[n(w,{size:"medium"},{default:o(()=>[c(p(i.emptyControlsMessage),1)]),_:1})])):L("",!0)])],64))])],64)}const ce=A(X,[["render",K]]);export{ce as default};
