import{_ as g,N as x,f as y,B,e as S,r as l,q as n,m as o,o as r,w as p,s as u,p as h,n as k,F as b,t as C,S as v,u as V,k as w,ai as N}from"./index-13ff96f4.js";import{S as A}from"./StackedAvatars-4925baeb.js";const I={props:{repositoryName:String,linkedTeams:{type:Array,default:()=>[]},teams:{type:Array,default:()=>[]},linkType:{type:String,default:"repo"}},emits:["linkTeam"],components:{BaseSelect:x,BaseButton:y,BaseParagraph:B,BaseIconButton:S,StackedAvatars:A},data(){return{selectedTeam:null}},computed:{enhancedLinkedTeams(){let a=[];for(const e of this.linkedTeams){const i=this.teams.find(c=>c.id==e.id);a.push(i)}return a},teamOptions(){const a=this.linkedTeams.map(e=>parseInt(e.id,10));return this.teams.filter(e=>this.isTeamClickable(e)).map(e=>({id:e.id,title:e.name})).filter(e=>a.includes(e.id)===!1)}},methods:{handleUnlinkTeam(a){this.$emit("unlinkTeam",a)},handleLinkTeam(a){const e=this.teams.find(i=>i.id==a);this.selectedTeam="",this.$emit("linkTeam",e)},isTeamClickable(a){return this.linkType=="cloud"||!a.source_kind?!0:!!this.$featureflags.disable_github_repo_team_sync}}},L={class:"flex flex-column gap-12px"},U={key:0,class:"flex gap-8px align-end"},z={class:"flex flex-column gap-8px"},O=["onClick"],P={class:"flex align-center gap-12px min-h-32px"};function F(a,e,i,c,d,t){const m=l("BaseParagraph"),T=l("BaseSelect"),f=l("StackedAvatars"),_=l("BaseIconButton");return n(),o("div",L,[r(m,{size:"medium",bold:""},{default:p(()=>[u("Teams responsible")]),_:1}),this.teamOptions.length>0?(n(),o("div",U,[r(T,{id:"selectedTeam",class:"w-full",options:t.teamOptions,modelValue:d.selectedTeam,"onUpdate:modelValue":[e[0]||(e[0]=s=>d.selectedTeam=s),t.handleLinkTeam],placeholder:"Select team..."},null,8,["options","modelValue","onUpdate:modelValue"])])):h("",!0),k("div",z,[(n(!0),o(b,null,C(t.enhancedLinkedTeams,s=>(n(),o("div",{key:s.id,class:v(["align-center flex gap-8px justify-between hover-trigger px-12px py-8px rounded-8px",[t.isTeamClickable(s)?"cursor-pointer hover_bg-primary-aik-20":"bg-carbon-5"]]),onClick:()=>t.isTeamClickable(s)&&t.handleUnlinkTeam(s.id)},[k("div",P,[r(m,{size:"tiny"},{default:p(()=>[u(V(s.name),1)]),_:2},1024),r(f,{users:s.users},null,8,["users"])]),t.isTeamClickable(s)?(n(),w(_,{key:0,size:"small",icon:"icon-close",class:"show-on-hover",onClick:N(()=>t.handleUnlinkTeam(s.id),["stop"])},null,8,["onClick"])):h("",!0)],10,O))),128))])])}const D=g(I,[["render",F]]);export{D as S};
