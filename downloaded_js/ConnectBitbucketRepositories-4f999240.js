import{_ as a,eM as c,r as n,k as p,w as d,p as l,ar as T,q as C,o as E}from"./index-13ff96f4.js";import{c as m}from"./trycatch-83445d5b.js";import{C as R}from"./ConnectRepositories-7287147d.js";import{O as S}from"./OnboardingEmptyState-28bd43c0.js";import"./OnboardingProgressIndicator-8fa4a42d.js";const u={components:{ConnectRepositories:R,OnboardingEmptyState:S},data(){return{showConnectRepositoriesStep:!0,selectedRepositoryIds:[]}},methods:{handleSelectRepositories({selectedRepositoryIds:e}){this.selectedRepositoryIds=e,this.showConnectRepositoriesStep=!1,this.handleComplete()},handleGoBack(){this.showConnectRepositoriesStep=!0,this.showConfirmEmailStep=!1},async handleComplete(){this.$router.push("/onboarding/bitbucket/finish");const e=await c(this.selectedRepositoryIds);for(const t of e)await m({statusCode:404,errMessage:"The provided scm_integration_repo_id does not belong to an active repository"},async()=>{await T(t,{no_disable_buttons:!0})})},async handleCreateSample(){go("/onboarding/demo")},handleUseDifferentAccount(){this.$router.replace("/onboarding/bitbucket/connect-group")}}};function O(e,t,I,h,s,o){const r=n("OnboardingEmptyState"),i=n("ConnectRepositories");return s.showConnectRepositoriesStep?(C(),p(i,{key:0,title:e.$t("ONBOARDING.BITBUCKET.CONNECT_REPOSITORIES.TITLE"),"number-of-steps":4,"number-of-completed-steps":2,"already-selected-repository-ids":s.selectedRepositoryIds,onContinue:o.handleSelectRepositories,onBack:t[0]||(t[0]=f=>e.$router.replace("/onboarding/bitbucket/connect-group")),icon:"icon-bitbucket"},{emptyState:d(()=>[E(r,{title:e.$t("ONBOARDING.BITBUCKET.CONNECT_REPOSITORIES.EMPTY_STATE.TITLE"),description:e.$t("ONBOARDING.BITBUCKET.CONNECT_REPOSITORIES.EMPTY_STATE.DESCRIPTION"),"primary-cta":e.$t("ONBOARDING.BITBUCKET.CONNECT_REPOSITORIES.EMPTY_STATE.PRIMARY_CTA"),"secondary-cta":e.$t("ONBOARDING.BITBUCKET.CONNECT_REPOSITORIES.EMPTY_STATE.SECONDARY_CTA"),onUseSample:o.handleCreateSample,onUseDifferentAccount:o.handleUseDifferentAccount},null,8,["title","description","primary-cta","secondary-cta","onUseSample","onUseDifferentAccount"])]),_:1},8,["title","already-selected-repository-ids","onContinue"])):l("",!0)}const A=a(u,[["render",O]]);export{A as default};
