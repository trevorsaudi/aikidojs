import{_ as m,H as k,B as v,f,r as s,q as n,m as u,n as e,o as a,w as o,s as i,F as b,t as w,S as y,U as R,cD as C,u as P,X as q,fc as A,k as S}from"./index-13ff96f4.js";import{P as $}from"./PageHeader-46c38a32.js";import{B as H}from"./BaseCard-471d3203.js";const U={props:{groupReference:String},components:{BaseHeading:k,BaseParagraph:v,BaseButton:f},data(){return{selectedOption:"/assets/badges/full-light-theme.svg"}},computed:{options(){return[{id:"full_logo_light",label:"Badge with logo and label",image:"/assets/badges/full-light-theme.svg",theme:"light"},{id:"full_logo_dark",label:"Badge with logo and label",image:"/assets/badges/full-dark-theme.svg",theme:"dark"},{id:"icon_only_light",label:"Badge with Aikido icon",image:"/assets/badges/icon-logo-light-theme.svg",theme:"light"},{id:"icon_only_dark",label:"Badge with Aikido icon",image:"/assets/badges/icon-logo-dark-theme.svg",theme:"dark"},{id:"label_only_light",label:"Badge with Aikido label",image:"/assets/badges/label-only-light-theme.svg",theme:"light"},{id:"label_only_dark",label:"Badge with Aikido label",image:"/assets/badges/label-only-dark-theme.svg",theme:"dark"}]},requestReportUrl(){return`${window.location.origin}/audit-report/external/${this.groupReference}/request`},badgeUrl(){return`${window.location.origin}${this.selectedOption}`},code(){return`<a href="${this.requestReportUrl}" target="_blank">
    <img src="${this.badgeUrl}" alt="Aikido Security Audit Report" height="40" />    
</a>`}},methods:{handleCopyRawCode(){window.isSecureContext&&navigator.clipboard.writeText(this.code)}}},E={class:"flex flex-column gap-24px"},L={class:"flex flex-column"},O={class:"flex flex-wrap align-center gap-16px mt-12px"},V=["for"],z={class:"p-12px flex flex-column gap-8px"},D=["src","alt"],X=["id","value"],F={class:"flex flex-column gap-16px"},I={class:"flex flex-column gap-8px"},N={class:"flex gap-12px align-center justify-between"},M={class:"flex align-center gap-8px"},T=e("i",{class:"icon icon-link"},null,-1),j=e("i",{class:"icon icon-openLink"},null,-1),G={class:"audit-report__code-snippet"};function J(d,p,x,B,l,r){const c=s("BaseParagraph"),_=s("BaseHeading"),g=s("BaseButton");return n(),u("div",E,[e("div",L,[a(c,null,{default:o(()=>[i("Select the badge you'd like to show on your website")]),_:1}),e("div",O,[(n(!0),u(b,null,w(r.options,t=>(n(),u("div",{key:t.id,class:y(["audit-report__badge-example",{"audit-report__badge-example--selected":t.image===l.selectedOption,"audit-report__badge-example--dark":t.theme==="dark","audit-report__badge-example--light":t.theme==="light"}])},[e("label",{for:t.id},[e("div",z,[e("img",{src:t.image,alt:t.label,width:"226",height:"40"},null,8,D)])],8,V),R(e("input",{type:"radio",id:t.id,name:"badge",value:t.image,style:{visibility:"hidden"},"onUpdate:modelValue":p[0]||(p[0]=h=>l.selectedOption=h)},null,8,X),[[C,l.selectedOption]])],2))),128))])]),e("div",F,[e("div",I,[e("div",N,[a(_,{as:"h4"},{default:o(()=>[i("Code snippet")]),_:1}),e("div",M,[a(g,{size:"small",onClicked:r.handleCopyRawCode},{default:o(()=>[T,i(" Copy snippet ")]),_:1},8,["onClicked"]),a(g,{size:"small",variation:"plain",href:r.requestReportUrl,target:"_blank",as:"outside-link"},{default:o(()=>[i(" View page "),j]),_:1},8,["href"])])]),a(c,null,{default:o(()=>[i(" Include this snippet on your website to allow requests for external audit reports. ")]),_:1}),e("pre",G,[e("code",null,P(r.code),1)])])])])}const K=m(U,[["render",J]]),Q={components:{XPreloader:q,PageHeader:$,BaseCard:H,RequestBadgePreview:K,BaseButton:f},data(){return{isLoading:!0,groupReference:void 0}},async mounted(){try{const d=await A();this.groupReference=d.group_reference}catch{this.$router.replace({name:"notFound"})}finally{this.isLoading=!1}},computed:{breadcrumbs(){return[{label:"Settings",href:"/settings"},{label:"Integrations",href:"/settings/integrations"},{label:"External audit report"}]}}},W={class:"page-content"};function Y(d,p,x,B,l,r){const c=s("XPreloader"),_=s("BaseButton"),g=s("PageHeader"),t=s("RequestBadgePreview"),h=s("BaseCard");return l.isLoading?(n(),S(c,{key:0,class:"supercenter",theme:"transparent"})):(n(),u(b,{key:1},[a(g,{title:"External audit report",breadcrumbs:r.breadcrumbs},{rightContent:o(()=>[a(_,{size:"small",variation:"plain",to:"/reports/audit-reports/external/create",as:"link"},{default:o(()=>[i(" Go to overview ")]),_:1})]),_:1},8,["breadcrumbs"]),e("div",W,[a(h,{title:"Settings",class:"flex-1"},{default:o(()=>[a(t,{"group-reference":l.groupReference},null,8,["group-reference"])]),_:1})])],64))}const ae=m(Q,[["render",Y]]);export{ae as default};
