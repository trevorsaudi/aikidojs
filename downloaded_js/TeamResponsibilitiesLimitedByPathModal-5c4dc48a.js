import{_ as v,au as C,V as S,N as g,gU as b,r as a,q as d,k as p,w as n,n as h,o as i,s as c,u as E,m as I,F as V,t as F}from"./index-13ff96f4.js";import{I as k}from"./InputCheckbox-81cb3ca6.js";const N={emits:["close","saved"],components:{BaseConfirmModal:C,InputText:S,InputCheckbox:k,BaseSelect:g},props:{teamId:Number,teamName:String,repoId:Number,repoName:String,teamPaths:Array,teamPathsIsExcluded:Boolean},data(){return{paths:[""],isExcludeFilter:!1}},mounted(){this.teamPaths.length>0&&(this.paths=this.teamPaths.slice(),this.isExcludeFilter=!!this.teamPathsIsExcluded)},methods:{handleAddPath(){this.paths.push("")},handleRemovePath(e){this.paths.splice(e,1)},async handleSave(){await b(this.teamId,this.repoId,this.paths,this.isExcludeFilter),this.$toast.success("Paths updated successfully"),this.$emit("saved")},onUpdateExcludeFilter(e){this.isExcludeFilter=e=="exclude"}}},y={class:"flex flex-column gap-8px -mt-8px"},w=h("i",{class:"icon icon-add"},null,-1);function T(e,s,x,U,t,l){const m=a("BaseParagraph"),f=a("BaseSelect"),_=a("InputText"),B=a("BaseButton"),P=a("BaseConfirmModal");return d(),p(P,{allowBackgroundClose:!1,width:600,title:"Define specific paths for team access",description:`Scope the access of team ${x.teamName} using the options below.`,buttonSubmitText:"Save Changes",onSubmit:l.handleSave,onClose:s[0]||(s[0]=r=>e.$emit("close")),onSecondaryButtonClicked:s[1]||(s[1]=r=>e.$emit("close"))},{default:n(()=>[h("div",y,[i(m,{size:"medium",semi:"",class:"mt-4px"},{default:n(()=>[c("Purpose")]),_:1}),i(f,{options:[{id:"include",title:"Include paths for team"},{id:"exclude",title:"Exclude paths for team"}],modelValue:t.isExcludeFilter?"exclude":"include","onUpdate:modelValue":l.onUpdateExcludeFilter},null,8,["modelValue","onUpdate:modelValue"]),i(m,{size:"medium",semi:"",class:"mt-4px"},{default:n(()=>[c("List of "+E(t.isExcludeFilter?"excluded":"included")+" paths",1)]),_:1}),(d(!0),I(V,null,F(t.paths,(r,o)=>(d(),p(_,{class:"max-w-600px",key:o,placeholder:"/path/to/subdirectory",modelValue:t.paths[o],"onUpdate:modelValue":u=>t.paths[o]=u,clearable:t.paths.length>1,onClear:u=>l.handleRemovePath(o)},null,8,["modelValue","onUpdate:modelValue","clearable","onClear"]))),128)),i(B,{variation:"plain",size:"small",onClick:l.handleAddPath,class:"mt-8px"},{default:n(()=>[w,c(" Add another path ")]),_:1},8,["onClick"])])]),_:1},8,["description","onSubmit"])}const R=v(N,[["render",T]]);export{R as default};
