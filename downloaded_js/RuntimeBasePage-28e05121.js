import{P as _}from"./PageHeader-46c38a32.js";import{_ as f,X as v,d as g,h as a,an as o,dZ as b,A as T,O as k,r as s,k as P,m as R,o as i,w as c,n as l,F as S,q as u}from"./index-13ff96f4.js";import{X as C}from"./XTabs-d492da26.js";const E={components:{XTabs:C,XPreloader:v,PageHeader:_,BasePill:g},data(){return{tab:this.$route.name,loading:!0,services:[]}},async mounted(){if(this.$route.path==="/runtime"){this.$router.push("/runtime/services");return}this.activateRuntimeFeature(),this.services=await a(),this.loading=!1},created(){o.on("runtime.service.deleted",this.refreshServices)},beforeUnmount(){o.off("runtime.service.deleted",this.refreshServices)},computed:{title(){return this.$t("RUNTIME_PROTECTION")},subtitle(){return this.$t("RUNTIME_PROTECTION.X_SERVICES",this.services.length)},tabs(){let e=[{title:this.$t("RUNTIME_PROTECTION.TABS.SERVICES"),id:"runtimeServices"}];return this.services.length>0&&e.push({title:this.$t("RUNTIME_PROTECTION.TABS.USAGE"),id:"runtimeUsage"}),e}},watch:{async"$route.path"(){this.$route.name==="runtimeServices"&&(this.tab="runtimeServices"),this.$route.name==="runtimeUsage"&&(this.tab="runtimeUsage"),this.services=await a()}},methods:{onTabClicked(e){e==="runtimeServices"&&this.$router.push("/runtime/services"),e==="runtimeUsage"&&this.$router.push("/runtime/usage")},async refreshServices(){this.services=await a()},async activateRuntimeFeature(){this.$group&&(this.$featureflags.enable_rasp||(await b(),T.fetchGroup(),this.$group.is_demo_group||k("firewall_activated")))},handleDocsClick(){window.open("https://help.aikido.dev/section/aikido-firewall/sgIt4HRxlrFr","_blank")}}},w={class:"flex gap-8px"},U={class:"page-content"};function I(e,$,B,N,r,t){const m=s("XPreloader"),n=s("BasePill"),h=s("XTabs"),d=s("PageHeader"),p=s("router-view");return r.loading?(u(),P(m,{key:0,class:"supercenter",theme:"transparent"})):(u(),R(S,{key:1},[i(d,{title:t.title},{subTitle:c(()=>[l("div",w,[i(n,{title:t.subtitle,variation:"green"},null,8,["title"]),i(n,{class:"cursor-pointer",title:"Zen Docs",baseIcon:"icon-information",variation:"gray-fill",onClick:t.handleDocsClick},null,8,["onClick"])])]),tabs:c(()=>[i(h,{class:"page-tabs",tabs:t.tabs,modelValue:r.tab,"onUpdate:modelValue":t.onTabClicked},null,8,["tabs","modelValue","onUpdate:modelValue"])]),_:1},8,["title"]),l("div",U,[i(p)])],64))}const x=f(E,[["render",I]]);export{x as default};
