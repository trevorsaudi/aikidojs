import{_ as p,M as B,B as V,f as C,V as b,H as w,g as T,fJ as x,r as n,q as o,k as i,w as e,o as a,s,n as R,p as g}from"./index-13ff96f4.js";import{g as U}from"./containerRegistryHelpdocs-76d76ec3.js";const S={emits:["close"],components:{BaseModal:B,BaseParagraph:V,BaseButton:C,InputText:b,BaseHeading:w,BaseLink:T},props:{id:Number,username:String,registry_name:String,kind:String,api_url:String},data(){return{accesstoken:""}},computed:{isValid(){return this.accesstoken.trim()!==""},registryApirulVisible(){return["gitlab-self","artifactory"].includes(this.kind)},showScaleWayRegistryRegion(){return["scaleway"].includes(this.kind)},registrynameTitle(){switch(this.kind){case"docker-hub":return"Organization name";case"gitlab":case"gitlab-self":return"Group ID";case"cloudsmith":return"Organization namespace";default:return"Registry name"}},usernameTitle(){return["digitalocean","scaleway"].includes(this.kind)?"Nickname":"Username"},docsUrl(){return U(this.kind)}},methods:{close(){this.$emit("close")},async save(){await x(this.id,this.accesstoken),this.$toast.success({title:"Success",description:"Token successfully updated"}),this.close()}}},v={class:"flex flex-column gap-12px"};function H(k,c,r,M,d,t){const u=n("BaseParagraph"),_=n("BaseHeading"),y=n("BaseLink"),l=n("InputText"),m=n("BaseButton"),f=n("BaseModal");return o(),i(f,{width:600,onClose:t.close},{header:e(()=>[a(u,{color:"gray"},{default:e(()=>[s("Update access token")]),_:1})]),content:e(()=>[R("div",v,[a(_,{as:"h3"},{default:e(()=>[s("Update your access token")]),_:1}),a(u,{size:"medium",loose:""},{default:e(()=>[s(" Read our documentation on "),a(y,{href:t.docsUrl,target:"_blank"},{default:e(()=>[s("How to connect your container image registry")]),_:1},8,["href"]),s(". ")]),_:1})]),a(l,{disabled:"",title:t.usernameTitle,modelValue:r.username},null,8,["title","modelValue"]),a(l,{title:"Access token",placeholder:"*********",modelValue:d.accesstoken,"onUpdate:modelValue":c[0]||(c[0]=h=>d.accesstoken=h),modelModifiers:{trim:!0},name:"accesstoken",onEnterKeyPress:k.handleKeyDown},null,8,["modelValue","onEnterKeyPress"]),t.showScaleWayRegistryRegion?(o(),i(l,{key:0,disabled:"",title:"Region",modelValue:r.registry_name},null,8,["modelValue"])):r.registry_name.length>0?(o(),i(l,{key:1,disabled:"",title:t.registrynameTitle,modelValue:r.registry_name},null,8,["title","modelValue"])):g("",!0),t.registryApirulVisible?(o(),i(l,{key:2,disabled:"",title:"Instance Url",modelValue:r.api_url},null,8,["modelValue"])):g("",!0)]),footer:e(()=>[a(m,{onClicked:t.close,variation:"tertiary",class:"ml-auto"},{default:e(()=>[s("Cancel")]),_:1},8,["onClicked"]),a(m,{onClicked:t.save},{default:e(()=>[s("Save")]),_:1},8,["onClicked"])]),_:1},8,["onClose"])}const P=p(S,[["render",H]]);export{P as default};
