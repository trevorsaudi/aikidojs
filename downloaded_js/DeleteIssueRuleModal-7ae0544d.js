import{a0 as c,_ as h,M as _,f,B as p,H as m,an as g,r as o,q as B,k as C,w as e,o as s,s as a,n as v,u as y}from"./index-13ff96f4.js";const w=async n=>{await c.delete(`/api/issues/rules/${n}`)},x={props:{rule:Object,issueCount:Number},components:{BaseModal:_,BaseButton:f,BaseParagraph:p,BaseHeading:m},emits:["cancel"],data(){return{isSaving:!1}},computed:{formattedIssueCount(){return this.$t("X_ISSUES",this.issueCount)}},methods:{handleCloseModal(){this.$emit("cancel")},async handleDelete(){this.isSaving=!0;try{await w(this.rule.id),g.emit("issueRuleDeleted",this.rule.id),this.handleCloseModal(),this.$toast.success({title:"Issue rule deleted",description:"The issue rule has been deleted successfully. We have re-opened the affected issues."})}finally{this.isSaving=!1}}}},M={class:"flex flex-column gap-12px"};function S(n,k,D,I,r,t){const l=o("BaseParagraph"),u=o("BaseHeading"),i=o("BaseButton"),d=o("BaseModal");return B(),C(d,{width:600,onClose:t.handleCloseModal},{header:e(()=>[s(l,{color:"gray"},{default:e(()=>[a("Delete issue rule")]),_:1})]),content:e(()=>[v("div",M,[s(u,{as:"h3"},{default:e(()=>[a(" Are you sure you want to delete this rule? ")]),_:1}),s(l,{loose:!0,size:"medium"},{default:e(()=>[a(" This will unignore "+y(t.formattedIssueCount)+" right now and will unignore any issues pertaining to this criteria in the future. ",1)]),_:1})])]),footer:e(()=>[s(i,{onClicked:t.handleCloseModal,variation:"plain",class:"ml-auto"},{default:e(()=>[a(" Cancel ")]),_:1},8,["onClicked"]),s(i,{onClicked:t.handleDelete,variation:"destructive","is-loading":r.isSaving},{default:e(()=>[a(" Delete ")]),_:1},8,["onClicked","is-loading"])]),_:1},8,["onClose"])}const N=h(x,[["render",S]]);export{N as default};
