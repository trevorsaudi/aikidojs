import{E as u}from"./EvolutionGraph-0cd8ecd4.js";import{_ as d,r as g,m,k as D,p as f,q as l}from"./index-13ff96f4.js";import"./dateFns-a344cb79.js";import"./index-b87db690.js";import"./transform-c376ec3f.js";import"./linear-efb37b7f.js";const y={components:{EvolutionGraph:u},data(){return{loaded:!1,chartOptions:{measure_title:"Open issues",formatValue(a){return a}},graphData:null,everythingDataGraph:null,chartDataLoading:!1}},async mounted(){await this.loadData(),this.loaded=!0},methods:{async loadData(){this.chartDataLoading=!0,this.setGraphDataForSingleBarChart(window.chartData),this.chartDataLoading=!1},setGraphDataForSingleBarChart(a){this.everythingDataGraph=null,this.graphData=this.getGraphData(a)},getGraphData(a){let o={};for(const t of a){const s=t.stats.current;let n=0;if(Object.values(s).forEach(e=>n+=e),n!=0)for(const[e,p]of Object.entries(s))o[e]=o[e]||[],o[e].push({...t,stats:{current:p},total:n})}const i=["critical","high","medium","low"],h=Object.entries(o).sort((t,s)=>{const n=t[0],e=s[0];return i.indexOf(n)-i.indexOf(e)}),r=[];let c=0;for(const[t,s]of h)r.push({stackIndex:c,data:s,title:t,color:this.getColorClass(t),fill:"currentColor"}),c++;return r},getColorClass(a){return{low:"text-color-success",medium:"text-blue-accent",high:"text-color-primary",critical:"text-color-danger"}[a]}}},C={id:"chart-standalone"};function _(a,o,i,h,r,c){const t=g("EvolutionGraph");return l(),m("div",C,[r.loaded?(l(),D(t,{key:0,hideLegend:!0,graphData:r.graphData,everythingDataGraph:r.everythingDataGraph,chartOptions:r.chartOptions,chartDataLoading:r.chartDataLoading,customMargin:{top:20,right:50,bottom:36,left:24}},null,8,["graphData","everythingDataGraph","chartOptions","chartDataLoading"])):f("",!0)])}const L=d(y,[["render",_]]);export{L as default};
