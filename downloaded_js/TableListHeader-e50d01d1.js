import{D as b,a as g}from"./DataTable-e31a825a.js";import{_ as p,r as u,q as a,m as r,o as _,c7 as B,t as k,w as f,aa as l,k as v,S as i,p as y,n as h}from"./index-13ff96f4.js";const C={components:{DataTable:b},emits:["sort","sortInput"],props:{mdSortType:String,mdSort:String,storageKey:String,useDataTableComponent:{type:Boolean,default:!1}},data(){return{sortType:this.mdSortType,sortBy:this.mdSort}},methods:{emitSort(t,e=!1){this.sortBy=t,this.$emit("sort",{column:t,direction:this.sortType}),this.storageKey&&!e&&(localStorage.setItem(`aik.sort.${this.storageKey}.sortBy`,this.sortBy),localStorage.setItem(`aik.sort.${this.storageKey}.sortType`,this.sortType))},emitClear(){this.sortBy=null,this.$emit("sort",{}),this.storageKey&&(localStorage.removeItem(`aik.sort.${this.storageKey}.sortBy`),localStorage.removeItem(`aik.sort.${this.storageKey}.sortType`))}},watch:{mdSort(){this.sortBy=this.mdSort,this.$emit("sortInput")},mdSortType(){this.sortType=this.mdSortType,this.$emit("sortInput")}}},$={key:0,class:"sortable-table-list"},x={key:1,class:"table list boxxed sortable-table-list"};function D(t,e,o,T,n,s){const c=u("DataTable");return o.useDataTableComponent?(a(),r("span",$,[_(c,null,B({_:2},[k(t.$slots,(d,m)=>({name:m,fn:f(()=>[l(t.$slots,m)])}))]),1024)])):(a(),r("div",x,[l(t.$slots,"default")]))}const N=p(C,[["render",D]]);function S(t,e){return!t||!t.$el||t._uid===0?!1:e(t)?t:S(t.$parent,e)}const I={components:{DataTableHeader:g},props:{sortBy:String,invertSorting:{type:Boolean,default:!1},disableSavingToLocalStorage:{type:Boolean,default:!1},alignment:String,useDataTableHeaderComponent:{type:Boolean,default:!1}},data(){return{sortType:null,sorted:!1,parentTable:{}}},computed:{classes(){const t=this.hasMatchSort();return t||(this.sorted=!1),{"table-list-header-sortable":this.sortBy,"table-list-header-sorted":t&&this.sorted,"table-list-header-sorted-descending":t&&this.sortType==="desc"}}},methods:{hasMatchSort(){return this.parentTable.sortBy===this.sortBy},changeSort(){this.sortBy&&(this.sorted?this.sortType===(this.invertSorting?"desc":"asc")&&this.sorted?(this.sortType=this.invertSorting?"asc":"desc",this.sorted=!0):(this.sortType=null,this.sorted=!1):(this.sortType=this.invertSorting?"desc":"asc",this.sorted=!0),this.parentTable.sortType=this.sortType,this.sorted?this.parentTable.emitSort(this.sortBy,this.disableSavingToLocalStorage):this.parentTable.emitClear())},initSort(){if(this.hasMatchSort()){this.sorted=!0;const t=this.invertSorting?"desc":"asc";this.sortType=this.parentTable.sortType||t}}},mounted(){this.parentTable=S(this.$parent,t=>t.$el.classList.contains("sortable-table-list")),this.initSort()}},K={class:"valign-middle"},H={class:"table-list-header-container"},L={class:"table-list-header-text flex align-center"};function V(t,e,o,T,n,s){const c=u("DataTableHeader");return o.useDataTableHeaderComponent?(a(),v(c,{key:0,class:i(s.classes),onClick:s.changeSort},{default:f(()=>[o.sortBy?(a(),r("i",{key:0,class:i(["icon icon-sort text-gray-100 cursor-pointer inline-block mr-8px text--normal valign-middle",{"text-blue-accent":n.sorted}])},null,2)):y("",!0),h("span",K,[l(t.$slots,"default")])]),_:3},8,["class","onClick"])):(a(),r("div",{key:1,class:i(["th table-list-header",s.classes]),onClick:e[0]||(e[0]=(...d)=>s.changeSort&&s.changeSort(...d))},[h("div",H,[h("div",L,[o.sortBy?(a(),r("i",{key:0,class:i(["icon icon-sort text-gray-100 cursor-pointer inline-block mr-8px text--normal",{"text-blue-accent":n.sorted}])},null,2)):y("",!0),l(t.$slots,"default")])])],2))}const q=p(I,[["render",V]]);export{N as T,q as a};
