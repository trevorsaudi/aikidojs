import{_ as B,M as x,B as L,H as C,f as y,d as R,a3 as h,r as u,q as k,k as v,w as e,o as t,s as a,u as n,n as o}from"./index-13ff96f4.js";import{B as J}from"./BaseCodeBlock-cec75629.js";const D={props:{requestLog:Object},components:{BaseModal:x,BaseParagraph:L,BaseHeading:C,BaseButton:y,BaseCodeBlock:J,BasePill:R},emits:["close"],computed:{responseStatusLabel(){return`Response: ${this.requestLog.status_code}`},formattedRequestTimestamp(){return`On ${h.fromUnix(this.requestLog.timestamp).format(h.US_FRIENDLY_DATE_WITH_TIME_AND_YEAR)}`},formattedUrl(){return this.requestLog.request.query_params&&this.requestLog.request.query_params!=""?`${this.requestLog.url}?${this.requestLog.request.query_params}`:this.requestLog.url},curlCommand(){const l=this.requestLog.method,c=this.formattedUrl,d=this.requestLog.request.headers,f=this.requestLog.request.payload;let i=`curl -X ${l} "${c}"`;const s=this.parseJson(d);for(const[r,_]of Object.entries(s))i+=` -H "${r}: ${_}"`;return f&&(i+=` -d '${f}'`),i},formattedRequestDuration(){return`${this.requestLog.request_duration} ms`}},methods:{handleCloseModal(){this.$emit("close")},formatJson(l){return JSON.stringify(JSON.parse(l),null,4).trim()},parseJson(l){try{return JSON.parse(l)}catch{return{}}}}},b={class:"flex flex-column gap-24px"},M={class:"flex flex-column gap-16px"},P={class:"text-break-all"},T={class:"flex flex-column gap-16px"},N=o("span",null,"Response Payload",-1);function w(l,c,d,f,i,s){const r=u("BaseParagraph"),_=u("BaseHeading"),m=u("BaseCodeBlock"),p=u("BasePill"),g=u("BaseButton"),q=u("BaseModal");return k(),v(q,{width:600,onClose:s.handleCloseModal,allowBackgroundClose:!1},{header:e(()=>[t(r,{color:"subdued"},{default:e(()=>[a(n(s.formattedRequestTimestamp),1)]),_:1})]),content:e(()=>[o("div",b,[o("div",M,[t(_,{as:"h3",class:"flex gap-4px align-center flex-1 justify-between"},{default:e(()=>[a(" Request Log Details "),t(r,{semi:!0},{default:e(()=>[a(" Duration: "),o("strong",null,n(s.formattedRequestDuration),1)]),_:1})]),_:1}),t(r,null,{default:e(()=>[a("Below you can find the details for the HTTP request to "),o("strong",P,n(s.formattedUrl),1)]),_:1})]),o("div",T,[o("div",null,[t(r,{semi:!0},{default:e(()=>[a("Request headers")]),_:1}),t(m,null,{default:e(()=>[a(n(s.formatJson(d.requestLog.request.headers)),1)]),_:1})]),o("div",null,[t(r,{semi:!0},{default:e(()=>[a("Request Payload")]),_:1}),t(m,null,{default:e(()=>[a(n(s.formatJson(d.requestLog.request.payload)),1)]),_:1})]),o("div",null,[t(r,{semi:!0,class:"flex gap-4px align-center flex-1 justify-between"},{default:e(()=>[N,t(p,{title:s.responseStatusLabel,variation:"gray-fill"},null,8,["title"])]),_:1}),t(m,null,{default:e(()=>[a(n(s.formatJson(d.requestLog.response.payload)),1)]),_:1})]),o("div",null,[t(r,{semi:!0},{default:e(()=>[a("Curl Command")]),_:1}),t(m,null,{default:e(()=>[a(n(s.curlCommand),1)]),_:1})])])])]),footer:e(()=>[t(g,{onClicked:s.handleCloseModal,variation:"plain",class:"ml-auto"},{default:e(()=>[a("Close")]),_:1},8,["onClicked"])]),_:1},8,["onClose"])}const S=B(D,[["render",w]]);export{S as default};
