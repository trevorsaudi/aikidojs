import{A as V}from"./ActionMenu-3e4470bf.js";import{_ as x,I as B,bt as q,al as I,r as _,q as e,m as t,n as o,u as r,p as i,o as p,w as b,k as L,F as k,t as g,S as h,s as N}from"./index-13ff96f4.js";const P={components:{InputSearch:B,ActionMenu:V,BasePopover:q,LoadingSpinner:I},emits:["update:modelValue","searchChanged"],props:{options:{type:Array,required:!0},modelValue:{type:String,required:!0},label:{type:String,required:!1},sublabel:{type:String,required:!1},theme:{type:String,required:!1,default:"light"},isLoading:{type:Boolean,default:!1}},data(){return{search:""}},methods:{onSearchClick(s){this.$refs.searchPopover.isOpen||s.toggle()},onSearchChanged(s){this.$emit("update:modelValue",null),this.$emit("searchChanged",s)}},computed:{sections(){const s=this.options.map(l=>({label:l.label,onClick:()=>{this.search=l.label,this.$emit("update:modelValue",l.value)},active:this.modelValue===l.label}));return s.length==0&&s.push({label:this.$t("NO_ITEMS_FOUND"),disabled:!0}),[{items:s}]},themeClass(){return this.theme==="light"?"select-input--theme-light":"select-input--theme-dark"}}},w={key:0,class:"select-input__label"},O={key:0,class:"select-input__label__sub-label"},D={class:"relative"},M={class:"action-menu max-h-250px overflow-y-scroll"},A={key:0,class:"action-menu__section-title"},F=["disabled","onClick"],U={class:"action-menu__section-items"},E=["onClick","disabled"];function T(s,l,c,W,m,u){const f=_("InputSearch"),C=_("LoadingSpinner"),v=_("BasePopover");return e(),t("div",{class:h(["select-input",[u.themeClass]])},[c.label?(e(),t("label",w,[o("span",null,r(c.label),1),c.sublabel?(e(),t("span",O,r(c.sublabel),1)):i("",!0)])):i("",!0),p(v,{placement:"bottom-start",fullWidth:!0,ref:"searchPopover",keepOtherPopoversOpen:!0},{trigger:b(a=>[o("div",D,[p(f,{modelValue:m.search,"onUpdate:modelValue":[l[0]||(l[0]=d=>m.search=d),u.onSearchChanged],onClick:()=>u.onSearchClick(a),spacing:"compact",fullWidth:!0,disableDebounce:!0},null,8,["modelValue","onUpdate:modelValue","onClick"]),c.isLoading?(e(),L(C,{key:0,class:"absolute pin-r-9px pin-t-9px",color:"#645dd7","background-color":"#d0cdff",width:16,height:16})):i("",!0)])]),content:b(()=>[o("div",M,[(e(!0),t(k,null,g(u.sections,(a,d)=>(e(),t("div",{key:d,class:"action-menu__section"},[a.title?(e(),t("div",A,[o("p",null,r(a.title),1),a.action?(e(),t("button",{key:0,disabled:a.action.disabled,class:"button-brand button--as-link",onClick:a.action.onClick},r(a.action.label),9,F)):i("",!0)])):i("",!0),o("ul",U,[(e(!0),t(k,null,g(a.items,(n,S)=>(e(),t("li",{key:S,class:h(["action-menu__section__item",[n.active&&"action-menu__section__item--active",n.destructive&&"action-menu__section__item--destructive"]])},[o("button",{onClick:y=>n.onClick(y),disabled:n.disabled,class:"action-menu__section__item-button text-start"},[n.icon?(e(),t("i",{key:0,class:h(["icon icon-14px mr-12px",[n.icon]])},null,2)):i("",!0),N(" "+r(n.label),1)],8,E)],2))),128))])]))),128))])]),_:1},512)],2)}const G=x(P,[["render",T]]);export{G as M};
