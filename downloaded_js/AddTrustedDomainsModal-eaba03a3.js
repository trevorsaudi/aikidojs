import{_ as h,au as p,B as f,V as _,f as B,gp as v,r as i,q as l,k as d,w as N,n as r,m as k,F as C,t as w,p as D}from"./index-13ff96f4.js";const T={emits:["close","saved"],components:{BaseConfirmModal:p,BaseParagraph:f,InputText:_,BaseButton:B},data(){return{domainNames:[""]}},computed:{description(){const e=this.$t("SCM_TYPE_"+this.$group.scm_type);return`Users with an email from this domain will be able to auto-enroll into this workspace. Aikido will also verify that a ${e} user with that email address has access to this ${e} organization.`}},methods:{async saveNewTrustedDomains(){await v(this.domainNames),this.$emit("saved")},handleAddDomain(){this.domainNames.push("")},handleRemoveDomain(e){this.domainNames.splice(e,1)},handleFocusDomain(e){this.domainNames[e].trim()==""&&(this.domainNames[e]="https://")},handleUnfocusDomain(e){this.domainNames[e].trim()=="https://"&&(this.domainNames[e]="")},handleTypingDomain(e,a){a.startsWith("https://https://")&&(a=a.replace("https://https://","https://")),this.domainNames[e]=a}}},b=r("hr",{class:"divider w-full mb-24px -mt-8px"},null,-1),V={class:"flex flex-column gap-8px"};function g(e,a,$,x,n,t){const c=i("InputText"),y=i("BaseButton"),u=i("BaseConfirmModal");return l(),d(u,{width:560,headerText:" ",title:"Add trusted domain",description:t.description,buttonSubmitText:"Save",onSubmit:t.saveNewTrustedDomains,onClose:a[0]||(a[0]=m=>e.$emit("close")),onSecondaryButtonClicked:a[1]||(a[1]=m=>e.$emit("close")),allowBackgroundClose:!1},{default:N(()=>[b,r("div",V,[(l(!0),k(C,null,w(n.domainNames,(m,o)=>(l(),d(c,{key:o,placeholder:"https://aikido.dev",modelValue:n.domainNames[o],"onUpdate:modelValue":s=>t.handleTypingDomain(o,s),name:"domainName",type:"url",clearable:n.domainNames.length>1,onClear:s=>t.handleRemoveDomain(o),onFocus:s=>t.handleFocusDomain(o),onBlur:s=>t.handleUnfocusDomain(o)},null,8,["modelValue","onUpdate:modelValue","clearable","onClear","onFocus","onBlur"]))),128)),D("",!0)])]),_:1},8,["description","onSubmit"])}const S=h(T,[["render",g]]);export{S as default};
