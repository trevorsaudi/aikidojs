import{_ as i,eM as c,co as p,r as n,k as d,w as l,p as m,ar as R,q as S,o as T}from"./index-13ff96f4.js";import{c as C}from"./trycatch-83445d5b.js";import{C as E}from"./ConnectRepositories-7287147d.js";import{O}from"./OnboardingEmptyState-28bd43c0.js";import"./OnboardingProgressIndicator-8fa4a42d.js";const u={components:{ConnectRepositories:E,OnboardingEmptyState:O},data(){return{showConnectRepositoriesStep:!0,selectedRepositoryIds:[]}},methods:{handleSelectRepositories({selectedRepositoryIds:e}){this.selectedRepositoryIds=e,this.showConnectRepositoriesStep=!1,this.handleComplete()},handleGoBack(){this.showConnectRepositoriesStep=!0},async handleComplete(){this.$router.push("/onboarding/gitlab/finish");const e=await c(this.selectedRepositoryIds);for(const t of e)await C({statusCode:404,errMessage:"The provided scm_integration_repo_id does not belong to an active repository"},async()=>{await R(t,{no_disable_buttons:!0})});p({no_disable_buttons:!0,disable_toasts:!0})},async handleCreateSample(){go("/onboarding/demo")},handleUseDifferentAccount(){this.$router.replace("/onboarding/gitlab/connect-group")}}};function I(e,t,h,y,s,o){const r=n("OnboardingEmptyState"),a=n("ConnectRepositories");return s.showConnectRepositoriesStep?(S(),d(a,{key:0,title:e.$t("ONBOARDING.GITLAB.CONNECT_REPOSITORIES.TITLE"),"number-of-steps":4,"number-of-completed-steps":2,"already-selected-repository-ids":s.selectedRepositoryIds,onContinue:o.handleSelectRepositories,onBack:t[0]||(t[0]=_=>e.$router.replace("/onboarding/gitlab/connect-group")),icon:"icon-Gitlab"},{emptyState:l(()=>[T(r,{title:e.$t("ONBOARDING.GITLAB.CONNECT_REPOSITORIES.EMPTY_STATE.TITLE"),description:e.$t("ONBOARDING.GITLAB.CONNECT_REPOSITORIES.EMPTY_STATE.DESCRIPTION"),"primary-cta":e.$t("ONBOARDING.GITLAB.CONNECT_REPOSITORIES.EMPTY_STATE.PRIMARY_CTA"),"secondary-cta":e.$t("ONBOARDING.GITLAB.CONNECT_REPOSITORIES.EMPTY_STATE.SECONDARY_CTA"),onUseSample:o.handleCreateSample,onUseDifferentAccount:o.handleUseDifferentAccount},null,8,["title","description","primary-cta","secondary-cta","onUseSample","onUseDifferentAccount"])]),_:1},8,["title","already-selected-repository-ids","onContinue"])):m("",!0)}const B=i(u,[["render",I]]);export{B as default};
