import{_ as f,f as x,al as I,B as p,gn as _,r as o,q as i,m as r,k as C,p as a,n as b,o as l,w as h,s as c,u as k}from"./index-13ff96f4.js";const v={props:{files:{type:Array,default(){return[]}}},components:{BaseButton:x,LoadingSpinner:I,BaseParagraph:p},data(){return{imgIdx:0,imgContent:null,isLoadingImage:!1,cachedImgContent:{}}},watch:{files(e,t){if(e.length>t.length){this.imgIdx=e.length-1;return}this.cachedImgContent={},this.imgIdx=0,this.imgContent=!1},async visibleImage(e){if(!e)return;const t=this.cachedImgContent[e.id];if(t){this.imgContent=t;return}this.isLoadingImage=!0;try{const g=await _(e.id);this.imgContent=`data:image/png;base64,${g.base64_content}`,this.cachedImgContent[e.id]=this.imgContent}finally{this.isLoadingImage=!1}}},computed:{visibleImage(){if(this.files.length===0)return null;const e=this.files[this.imgIdx];return e||this.files[0]},counter(){const e=this.imgIdx+1,t=this.files.length;return`${e} / ${t}`},hasPreviousImage(){return this.files.length>1},hasNextImage(){return this.files.length>1}},methods:{handleShowNextImage(){if(!(this.files.length<=1)){if(this.imgIdx===this.files.length-1){this.imgIdx=0;return}this.imgIdx+=1}},handleShowPreviousImage(){if(!(this.files.length<=1)){if(this.imgIdx===0){this.imgIdx=this.files.length-1;return}this.imgIdx-=1}}}},y={key:0,class:"text-center p-8px rounded-4px bg-gray-25 min-h-110px relative"},B={class:"relative flex"},w=["src"],S={key:1,class:"flex w-full absolute bottom-0 left-0 right-0 justify-between gap-8px flex-wrap px-12px py-8px bg-black-opacity-75"};function N(e,t,g,P,n,s){const m=o("LoadingSpinner"),d=o("BaseButton"),u=o("BaseParagraph");return s.visibleImage?(i(),r("div",y,[n.isLoadingImage?(i(),C(m,{key:0,color:"#645dd7","background-color":"#d0cdff",width:24,height:24,class:"z-index-1 absolute-centered"})):a("",!0),b("div",B,[n.imgContent?(i(),r("img",{key:0,src:n.imgContent,class:"h-auto max-w-full"},null,8,w)):a("",!0),n.imgContent?(i(),r("div",S,[l(d,{size:"xs",onClick:s.handleShowPreviousImage,disabled:!s.hasPreviousImage},{default:h(()=>[c("Previous")]),_:1},8,["onClick","disabled"]),l(u,{color:"white"},{default:h(()=>[c(k(s.counter),1)]),_:1}),l(d,{size:"xs",onClick:s.handleShowNextImage,disabled:!s.hasNextImage},{default:h(()=>[c("Next")]),_:1},8,["onClick","disabled"])])):a("",!0)])])):a("",!0)}const V=f(v,[["render",N]]);export{V as S};
