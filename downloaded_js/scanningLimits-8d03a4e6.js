import{_ as d,e as p,dV as h,r as e,q as m,k as _,w as a,n as f,ai as i,o}from"./index-13ff96f4.js";import{A as G}from"./ActionMenu-3e4470bf.js";import{D as g}from"./DataTableCell-51c0104f.js";const C={props:{instanceGroup:Object,cloudId:[Number,String]},components:{ActionMenu:G,BaseIconButton:p,DataTableCell:g},computed:{sections(){let t=[];return this.instanceGroup.active||t.push({label:"Enable scanning",onClick:this.handleActivateVirtualMachine,icon:"icon-shield_check"}),this.instanceGroup.active&&t.push({label:"Start scan",onClick:this.handleStartScan,icon:"icon-arrow-right",iconColor:"green"}),this.canEditConfiguration&&t.push({label:"Edit Configuration",icon:"icon-edit",onClick:this.handleOpenEditInstanceGroupPurposeModal}),this.instanceGroup.active&&t.push({label:"Disable scanning",icon:"icon-delete",iconColor:"red",useBaseIcon:!0,destructive:!0,onClick:this.handleDeactivateVirtualMachine}),[{items:t}]},canEditConfiguration(){return!!(this.instanceGroup.active&&this.instanceGroup.cloud_purpose=="mixed"||this.instanceGroup.purpose)}},methods:{async handleStartScan(){await h(this.cloudId,this.instanceGroup.id),this.$toast.success({title:"Scan started",description:"We started a scan for this instance group successfully. We'll report back soon."})},handleOpenEditInstanceGroupPurposeModal(){this.$modal.show("EditCloudInstanceGroupPurposeModal",{cloudId:this.cloudId,instanceGroup:this.instanceGroup})},handleDeactivateVirtualMachine(){this.$modal.show("DeactivateVirtualMachineModal",{instanceGroup:this.instanceGroup,cloudId:this.cloudId})},handleActivateVirtualMachine(){this.$modal.show("ActivateVirtualMachineModal",{instanceGroup:this.instanceGroup,cloudId:this.cloudId})}}};function b(t,n,v,I,M,s){const c=e("BaseIconButton"),r=e("ActionMenu"),l=e("DataTableCell");return m(),_(l,{spacing:"compact",alignment:"center",class:"data-table__cell--action"},{default:a(()=>[f("div",{class:"data-table__row__action-container",onClick:n[0]||(n[0]=i(()=>t.$refs.trigger.click(),["prevent","stop"]))},[o(r,{sections:s.sections,placement:"bottom-end"},{trigger:a(u=>[o(c,{icon:"icon-actions",class:"data-table__row__action",onClick:i(u.toggle,["prevent"]),ref:"trigger"},null,8,["onClick"])]),_:1},8,["sections"])])]),_:1})}const D=d(C,[["render",b]]),S={azure:{maxHardDriveSizeGb:500},aws:{maxHardDriveSizeGb:1e3}};export{D as C,S as s};
