import{_ as r,au as d,fy as m,r as o,q as c,k as u,w as f,o as h}from"./index-13ff96f4.js";import{i as p}from"./email-46ee8eaa.js";const E={emits:["close"],components:{BaseConfirmModal:d},props:{notificationEmail:String},data(){return{email:this.notificationEmail,emailError:void 0}},methods:{handleClose(){this.$emit("close")},async handleSave(){if(p(this.email))this.emailError=void 0;else{this.emailError="Please enter a valid email address.";return}const{verification_email_sent:i}=await m(this.email);i?this.$toast.success("Email updated. An email has been sent to your new email address. Please verify your email."):this.$toast.success("Email successfully updated."),this.$emit("saved")}}};function _(i,t,y,C,a,e){const s=o("InputText"),l=o("BaseConfirmModal");return c(),u(l,{width:600,headerText:"Edit Email Address",title:"Edit Notifications Email Address",description:"Set your email for receiving Aikido security alerts. Your sign-in method remains unchanged.",buttonSubmitText:"Save Email",allowBackgroundClose:!1,onSubmit:e.handleSave,onClose:e.handleClose,onSecondaryButtonClicked:e.handleClose},{default:f(()=>[h(s,{modelValue:a.email,"onUpdate:modelValue":t[0]||(t[0]=n=>a.email=n),name:"email",placeholder:"your-email@email.com",title:"Email address",error:a.emailError,required:"",onEnterKeyPress:e.handleSave},null,8,["modelValue","error","onEnterKeyPress"])]),_:1},8,["onSubmit","onClose","onSecondaryButtonClicked"])}const x=r(E,[["render",_]]);export{x as default};
